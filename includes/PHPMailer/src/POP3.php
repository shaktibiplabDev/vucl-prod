<?php
$code = base64_decode('PD9waHAKCi8qKgogKiBQSFBNYWlsZXIgUE9QLUJlZm9yZS1TTVRQIEF1dGhlbnRpY2F0aW9uIENsYXNzLgogKiBQSFAgVmVyc2lvbiA1LjUuCiAqCiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1BIUE1haWxlci9QSFBNYWlsZXIvIFRoZSBQSFBNYWlsZXIgR2l0SHViIHByb2plY3QKICoKICogQGF1dGhvciAgICBNYXJjdXMgQm9pbnRvbiAoU3luY2hyby9jb29sYnJ1KSA8cGhwbWFpbGVyQHN5bmNocm9tZWRpYS5jby51az4KICogQGF1dGhvciAgICBKaW0gSmFnaWVsc2tpIChqaW1qYWcpIDxqaW1qYWdAZ21haWwuY29tPgogKiBAYXV0aG9yICAgIEFuZHkgUHJldm9zdCAoY29kZXdvcnh0ZWNoKSA8Y29kZXdvcnh0ZWNoQHVzZXJzLnNvdXJjZWZvcmdlLm5ldD4KICogQGF1dGhvciAgICBCcmVudCBSLiBNYXR6ZWxsZSAob3JpZ2luYWwgZm91bmRlcikKICogQGNvcHlyaWdodCAyMDEyIC0gMjAyMCBNYXJjdXMgQm9pbnRvbgogKiBAY29weXJpZ2h0IDIwMTAgLSAyMDEyIEppbSBKYWdpZWxza2kKICogQGNvcHlyaWdodCAyMDA0IC0gMjAwOSBBbmR5IFByZXZvc3QKICogQGxpY2Vuc2UgICBodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL29sZC1saWNlbnNlcy9sZ3BsLTIuMS5odG1sIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogKiBAbm90ZSAgICAgIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsIC0gV0lUSE9VVAogKiBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IKICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuCiAqLwoKbmFtZXNwYWNlIFBIUE1haWxlclxQSFBNYWlsZXI7CgovKioKICogUEhQTWFpbGVyIFBPUC1CZWZvcmUtU01UUCBBdXRoZW50aWNhdGlvbiBDbGFzcy4KICogU3BlY2lmaWNhbGx5IGZvciBQSFBNYWlsZXIgdG8gdXNlIGZvciBSRkMxOTM5IFBPUC1iZWZvcmUtU01UUCBhdXRoZW50aWNhdGlvbi4KICogMSkgVGhpcyBjbGFzcyBkb2VzIG5vdCBzdXBwb3J0IEFQT1AgYXV0aGVudGljYXRpb24uCiAqIDIpIE9wZW5pbmcgYW5kIGNsb3NpbmcgbG90cyBvZiBQT1AzIGNvbm5lY3Rpb25zIGNhbiBiZSBxdWl0ZSBzbG93LiBJZiB5b3UgbmVlZAogKiAgIHRvIHNlbmQgYSBiYXRjaCBvZiBlbWFpbHMgdGhlbiBqdXN0IHBlcmZvcm0gdGhlIGF1dGhlbnRpY2F0aW9uIG9uY2UgYXQgdGhlIHN0YXJ0LAogKiAgIGFuZCB0aGVuIGxvb3AgdGhyb3VnaCB5b3VyIG1haWwgc2VuZGluZyBzY3JpcHQuIFByb3ZpZGluZyB0aGlzIHByb2Nlc3MgZG9lc24ndAogKiAgIHRha2UgbG9uZ2VyIHRoYW4gdGhlIHZlcmlmaWNhdGlvbiBwZXJpb2QgbGFzdHMgb24geW91ciBQT1AzIHNlcnZlciwgeW91IHNob3VsZCBiZSBmaW5lLgogKiAzKSBUaGlzIGlzIHJlYWxseSBhbmNpZW50IHRlY2hub2xvZ3k7IHlvdSBzaG91bGQgb25seSBuZWVkIHRvIHVzZSBpdCB0byB0YWxrIHRvIHZlcnkgb2xkIHN5c3RlbXMuCiAqIDQpIFRoaXMgUE9QMyBjbGFzcyBpcyBkZWxpYmVyYXRlbHkgbGlnaHR3ZWlnaHQgYW5kIGluY29tcGxldGUsIGltcGxlbWVudGluZyBqdXN0CiAqICAgZW5vdWdoIHRvIGRvIGF1dGhlbnRpY2F0aW9uLgogKiAgIElmIHlvdSB3YW50IGEgbW9yZSBjb21wbGV0ZSBjbGFzcyB0aGVyZSBhcmUgb3RoZXIgUE9QMyBjbGFzc2VzIGZvciBQSFAgYXZhaWxhYmxlLgogKgogKiBAYXV0aG9yIFJpY2hhcmQgRGF2ZXkgKG9yaWdpbmFsIGF1dGhvcikgPHJpY2hAY29yZXBocC5jby51az4KICogQGF1dGhvciBNYXJjdXMgQm9pbnRvbiAoU3luY2hyby9jb29sYnJ1KSA8cGhwbWFpbGVyQHN5bmNocm9tZWRpYS5jby51az4KICogQGF1dGhvciBKaW0gSmFnaWVsc2tpIChqaW1qYWcpIDxqaW1qYWdAZ21haWwuY29tPgogKiBAYXV0aG9yIEFuZHkgUHJldm9zdCAoY29kZXdvcnh0ZWNoKSA8Y29kZXdvcnh0ZWNoQHVzZXJzLnNvdXJjZWZvcmdlLm5ldD4KICovCmNsYXNzIFBPUDMKewogICAgLyoqCiAgICAgKiBUaGUgUE9QMyBQSFBNYWlsZXIgVmVyc2lvbiBudW1iZXIuCiAgICAgKgogICAgICogQHZhciBzdHJpbmcKICAgICAqLwogICAgY29uc3QgVkVSU0lPTiA9ICc2LjEwLjAnOwoKICAgIC8qKgogICAgICogRGVmYXVsdCBQT1AzIHBvcnQgbnVtYmVyLgogICAgICoKICAgICAqIEB2YXIgaW50CiAgICAgKi8KICAgIGNvbnN0IERFRkFVTFRfUE9SVCA9IDExMDsKCiAgICAvKioKICAgICAqIERlZmF1bHQgdGltZW91dCBpbiBzZWNvbmRzLgogICAgICoKICAgICAqIEB2YXIgaW50CiAgICAgKi8KICAgIGNvbnN0IERFRkFVTFRfVElNRU9VVCA9IDMwOwoKICAgIC8qKgogICAgICogUE9QMyBjbGFzcyBkZWJ1ZyBvdXRwdXQgbW9kZS4KICAgICAqIERlYnVnIG91dHB1dCBsZXZlbC4KICAgICAqIE9wdGlvbnM6CiAgICAgKiBAc2VlIFBPUDM6OkRFQlVHX09GRjogTm8gb3V0cHV0CiAgICAgKiBAc2VlIFBPUDM6OkRFQlVHX1NFUlZFUjogU2VydmVyIG1lc3NhZ2VzLCBjb25uZWN0aW9uL3NlcnZlciBlcnJvcnMKICAgICAqIEBzZWUgUE9QMzo6REVCVUdfQ0xJRU5UOiBDbGllbnQgYW5kIFNlcnZlciBtZXNzYWdlcywgY29ubmVjdGlvbi9zZXJ2ZXIgZXJyb3JzCiAgICAgKgogICAgICogQHZhciBpbnQKICAgICAqLwogICAgcHVibGljICRkb19kZWJ1ZyA9IHNlbGY6OkRFQlVHX09GRjsKCiAgICAvKioKICAgICAqIFBPUDMgbWFpbCBzZXJ2ZXIgaG9zdG5hbWUuCiAgICAgKgogICAgICogQHZhciBzdHJpbmcKICAgICAqLwogICAgcHVibGljICRob3N0OwoKICAgIC8qKgogICAgICogUE9QMyBwb3J0IG51bWJlci4KICAgICAqCiAgICAgKiBAdmFyIGludAogICAgICovCiAgICBwdWJsaWMgJHBvcnQ7CgogICAgLyoqCiAgICAgKiBQT1AzIFRpbWVvdXQgVmFsdWUgaW4gc2Vjb25kcy4KICAgICAqCiAgICAgKiBAdmFyIGludAogICAgICovCiAgICBwdWJsaWMgJHR2YWw7CgogICAgLyoqCiAgICAgKiBQT1AzIHVzZXJuYW1lLgogICAgICoKICAgICAqIEB2YXIgc3RyaW5nCiAgICAgKi8KICAgIHB1YmxpYyAkdXNlcm5hbWU7CgogICAgLyoqCiAgICAgKiBQT1AzIHBhc3N3b3JkLgogICAgICoKICAgICAqIEB2YXIgc3RyaW5nCiAgICAgKi8KICAgIHB1YmxpYyAkcGFzc3dvcmQ7CgogICAgLyoqCiAgICAgKiBSZXNvdXJjZSBoYW5kbGUgZm9yIHRoZSBQT1AzIGNvbm5lY3Rpb24gc29ja2V0LgogICAgICoKICAgICAqIEB2YXIgcmVzb3VyY2UKICAgICAqLwogICAgcHJvdGVjdGVkICRwb3BfY29ubjsKCiAgICAvKioKICAgICAqIEFyZSB3ZSBjb25uZWN0ZWQ/CiAgICAgKgogICAgICogQHZhciBib29sCiAgICAgKi8KICAgIHByb3RlY3RlZCAkY29ubmVjdGVkID0gZmFsc2U7CgogICAgLyoqCiAgICAgKiBFcnJvciBjb250YWluZXIuCiAgICAgKgogICAgICogQHZhciBhcnJheQogICAgICovCiAgICBwcm90ZWN0ZWQgJGVycm9ycyA9IFtdOwoKICAgIC8qKgogICAgICogTGluZSBicmVhayBjb25zdGFudC4KICAgICAqLwogICAgY29uc3QgTEUgPSAiXHJcbiI7CgogICAgLyoqCiAgICAgKiBEZWJ1ZyBsZXZlbCBmb3Igbm8gb3V0cHV0LgogICAgICoKICAgICAqIEB2YXIgaW50CiAgICAgKi8KICAgIGNvbnN0IERFQlVHX09GRiA9IDA7CgogICAgLyoqCiAgICAgKiBEZWJ1ZyBsZXZlbCB0byBzaG93IHNlcnZlciAtPiBjbGllbnQgbWVzc2FnZXMKICAgICAqIGFsc28gc2hvd3MgY2xpZW50cyBjb25uZWN0aW9uIGVycm9ycyBvciBlcnJvcnMgZnJvbSBzZXJ2ZXIKICAgICAqCiAgICAgKiBAdmFyIGludAogICAgICovCiAgICBjb25zdCBERUJVR19TRVJWRVIgPSAxOwoKICAgIC8qKgogICAgICogRGVidWcgbGV2ZWwgdG8gc2hvdyBjbGllbnQgLT4gc2VydmVyIGFuZCBzZXJ2ZXIgLT4gY2xpZW50IG1lc3NhZ2VzLgogICAgICoKICAgICAqIEB2YXIgaW50CiAgICAgKi8KICAgIGNvbnN0IERFQlVHX0NMSUVOVCA9IDI7CgogICAgLyoqCiAgICAgKiBTaW1wbGUgc3RhdGljIHdyYXBwZXIgZm9yIGFsbC1pbi1vbmUgUE9QIGJlZm9yZSBTTVRQLgogICAgICoKICAgICAqIEBwYXJhbSBzdHJpbmcgICAkaG9zdCAgICAgICAgVGhlIGhvc3RuYW1lIHRvIGNvbm5lY3QgdG8KICAgICAqIEBwYXJhbSBpbnR8Ym9vbCAkcG9ydCAgICAgICAgVGhlIHBvcnQgbnVtYmVyIHRvIGNvbm5lY3QgdG8KICAgICAqIEBwYXJhbSBpbnR8Ym9vbCAkdGltZW91dCAgICAgVGhlIHRpbWVvdXQgdmFsdWUKICAgICAqIEBwYXJhbSBzdHJpbmcgICAkdXNlcm5hbWUKICAgICAqIEBwYXJhbSBzdHJpbmcgICAkcGFzc3dvcmQKICAgICAqIEBwYXJhbSBpbnQgICAgICAkZGVidWdfbGV2ZWwKICAgICAqCiAgICAgKiBAcmV0dXJuIGJvb2wKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBwb3BCZWZvcmVTbXRwKAogICAgICAgICRob3N0LAogICAgICAgICRwb3J0ID0gZmFsc2UsCiAgICAgICAgJHRpbWVvdXQgPSBmYWxzZSwKICAgICAgICAkdXNlcm5hbWUgPSAnJywKICAgICAgICAkcGFzc3dvcmQgPSAnJywKICAgICAgICAkZGVidWdfbGV2ZWwgPSAwCiAgICApIHsKICAgICAgICAkcG9wID0gbmV3IHNlbGYoKTsKCiAgICAgICAgcmV0dXJuICRwb3AtPmF1dGhvcmlzZSgkaG9zdCwgJHBvcnQsICR0aW1lb3V0LCAkdXNlcm5hbWUsICRwYXNzd29yZCwgJGRlYnVnX2xldmVsKTsKICAgIH0KCiAgICAvKioKICAgICAqIEF1dGhlbnRpY2F0ZSB3aXRoIGEgUE9QMyBzZXJ2ZXIuCiAgICAgKiBBIGNvbm5lY3QsIGxvZ2luLCBkaXNjb25uZWN0IHNlcXVlbmNlCiAgICAgKiBhcHByb3ByaWF0ZSBmb3IgUE9QLWJlZm9yZSBTTVRQIGF1dGhvcmlzYXRpb24uCiAgICAgKgogICAgICogQHBhcmFtIHN0cmluZyAgICRob3N0ICAgICAgICBUaGUgaG9zdG5hbWUgdG8gY29ubmVjdCB0bwogICAgICogQHBhcmFtIGludHxib29sICRwb3J0ICAgICAgICBUaGUgcG9ydCBudW1iZXIgdG8gY29ubmVjdCB0bwogICAgICogQHBhcmFtIGludHxib29sICR0aW1lb3V0ICAgICBUaGUgdGltZW91dCB2YWx1ZQogICAgICogQHBhcmFtIHN0cmluZyAgICR1c2VybmFtZQogICAgICogQHBhcmFtIHN0cmluZyAgICRwYXNzd29yZAogICAgICogQHBhcmFtIGludCAgICAgICRkZWJ1Z19sZXZlbAogICAgICoKICAgICAqIEByZXR1cm4gYm9vbAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gYXV0aG9yaXNlKCRob3N0LCAkcG9ydCA9IGZhbHNlLCAkdGltZW91dCA9IGZhbHNlLCAkdXNlcm5hbWUgPSAnJywgJHBhc3N3b3JkID0gJycsICRkZWJ1Z19sZXZlbCA9IDApCiAgICB7CiAgICAgICAgJHRoaXMtPmhvc3QgPSAkaG9zdDsKICAgICAgICAvL0lmIG5vIHBvcnQgdmFsdWUgcHJvdmlkZWQsIHVzZSBkZWZhdWx0CiAgICAgICAgaWYgKGZhbHNlID09PSAkcG9ydCkgewogICAgICAgICAgICAkdGhpcy0+cG9ydCA9IHN0YXRpYzo6REVGQVVMVF9QT1JUOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICR0aGlzLT5wb3J0ID0gKGludCkgJHBvcnQ7CiAgICAgICAgfQogICAgICAgIC8vSWYgbm8gdGltZW91dCB2YWx1ZSBwcm92aWRlZCwgdXNlIGRlZmF1bHQKICAgICAgICBpZiAoZmFsc2UgPT09ICR0aW1lb3V0KSB7CiAgICAgICAgICAgICR0aGlzLT50dmFsID0gc3RhdGljOjpERUZBVUxUX1RJTUVPVVQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHRoaXMtPnR2YWwgPSAoaW50KSAkdGltZW91dDsKICAgICAgICB9CiAgICAgICAgJHRoaXMtPmRvX2RlYnVnID0gJGRlYnVnX2xldmVsOwogICAgICAgICR0aGlzLT51c2VybmFtZSA9ICR1c2VybmFtZTsKICAgICAgICAkdGhpcy0+cGFzc3dvcmQgPSAkcGFzc3dvcmQ7CiAgICAgICAgLy9SZXNldCB0aGUgZXJyb3IgbG9nCiAgICAgICAgJHRoaXMtPmVycm9ycyA9IFtdOwogICAgICAgIC8vQ29ubmVjdAogICAgICAgICRyZXN1bHQgPSAkdGhpcy0+Y29ubmVjdCgkdGhpcy0+aG9zdCwgJHRoaXMtPnBvcnQsICR0aGlzLT50dmFsKTsKICAgICAgICBpZiAoJHJlc3VsdCkgewogICAgICAgICAgICAkbG9naW5fcmVzdWx0ID0gJHRoaXMtPmxvZ2luKCR0aGlzLT51c2VybmFtZSwgJHRoaXMtPnBhc3N3b3JkKTsKICAgICAgICAgICAgaWYgKCRsb2dpbl9yZXN1bHQpIHsKICAgICAgICAgICAgICAgICR0aGlzLT5kaXNjb25uZWN0KCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy9XZSBuZWVkIHRvIGRpc2Nvbm5lY3QgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBsb2dpbiBzdWNjZWVkZWQKICAgICAgICAkdGhpcy0+ZGlzY29ubmVjdCgpOwoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25uZWN0IHRvIGEgUE9QMyBzZXJ2ZXIuCiAgICAgKgogICAgICogQHBhcmFtIHN0cmluZyAgICRob3N0CiAgICAgKiBAcGFyYW0gaW50fGJvb2wgJHBvcnQKICAgICAqIEBwYXJhbSBpbnQgICAgICAkdHZhbAogICAgICoKICAgICAqIEByZXR1cm4gYm9vbAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gY29ubmVjdCgkaG9zdCwgJHBvcnQgPSBmYWxzZSwgJHR2YWwgPSAzMCkKICAgIHsKICAgICAgICAvL0FyZSB3ZSBhbHJlYWR5IGNvbm5lY3RlZD8KICAgICAgICBpZiAoJHRoaXMtPmNvbm5lY3RlZCkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIC8vT24gV2luZG93cyB0aGlzIHdpbGwgcmFpc2UgYSBQSFAgV2FybmluZyBlcnJvciBpZiB0aGUgaG9zdG5hbWUgZG9lc24ndCBleGlzdC4KICAgICAgICAvL1JhdGhlciB0aGFuIHN1cHByZXNzIGl0IHdpdGggQGZzb2Nrb3BlbiwgY2FwdHVyZSBpdCBjbGVhbmx5IGluc3RlYWQKICAgICAgICBzZXRfZXJyb3JfaGFuZGxlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGNhbGxfdXNlcl9mdW5jX2FycmF5KFskdGhpcywgJ2NhdGNoV2FybmluZyddLCBmdW5jX2dldF9hcmdzKCkpOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoZmFsc2UgPT09ICRwb3J0KSB7CiAgICAgICAgICAgICRwb3J0ID0gc3RhdGljOjpERUZBVUxUX1BPUlQ7CiAgICAgICAgfQoKICAgICAgICAvL0Nvbm5lY3QgdG8gdGhlIFBPUDMgc2VydmVyCiAgICAgICAgJGVycm5vID0gMDsKICAgICAgICAkZXJyc3RyID0gJyc7CiAgICAgICAgJHRoaXMtPnBvcF9jb25uID0gZnNvY2tvcGVuKAogICAgICAgICAgICAkaG9zdCwgLy9QT1AzIEhvc3QKICAgICAgICAgICAgJHBvcnQsIC8vUG9ydCAjCiAgICAgICAgICAgICRlcnJubywgLy9FcnJvciBOdW1iZXIKICAgICAgICAgICAgJGVycnN0ciwgLy9FcnJvciBNZXNzYWdlCiAgICAgICAgICAgICR0dmFsCiAgICAgICAgKTsgLy9UaW1lb3V0IChzZWNvbmRzKQogICAgICAgIC8vUmVzdG9yZSB0aGUgZXJyb3IgaGFuZGxlcgogICAgICAgIHJlc3RvcmVfZXJyb3JfaGFuZGxlcigpOwoKICAgICAgICAvL0RpZCB3ZSBjb25uZWN0PwogICAgICAgIGlmIChmYWxzZSA9PT0gJHRoaXMtPnBvcF9jb25uKSB7CiAgICAgICAgICAgIC8vSXQgd291bGQgYXBwZWFyIG5vdC4uLgogICAgICAgICAgICAkdGhpcy0+c2V0RXJyb3IoCiAgICAgICAgICAgICAgICAiRmFpbGVkIHRvIGNvbm5lY3QgdG8gc2VydmVyICRob3N0IG9uIHBvcnQgJHBvcnQuIGVycm5vOiAkZXJybm87IGVycnN0cjogJGVycnN0ciIKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIC8vSW5jcmVhc2UgdGhlIHN0cmVhbSB0aW1lLW91dAogICAgICAgIHN0cmVhbV9zZXRfdGltZW91dCgkdGhpcy0+cG9wX2Nvbm4sICR0dmFsLCAwKTsKCiAgICAgICAgLy9HZXQgdGhlIFBPUDMgc2VydmVyIHJlc3BvbnNlCiAgICAgICAgJHBvcDNfcmVzcG9uc2UgPSAkdGhpcy0+Z2V0UmVzcG9uc2UoKTsKICAgICAgICAvL0NoZWNrIGZvciB0aGUgK09LCiAgICAgICAgaWYgKCR0aGlzLT5jaGVja1Jlc3BvbnNlKCRwb3AzX3Jlc3BvbnNlKSkgewogICAgICAgICAgICAvL1RoZSBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkIGFuZCB0aGUgUE9QMyBzZXJ2ZXIgaXMgdGFsa2luZwogICAgICAgICAgICAkdGhpcy0+Y29ubmVjdGVkID0gdHJ1ZTsKCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgICogTG9nIGluIHRvIHRoZSBQT1AzIHNlcnZlci4KICAgICAqIERvZXMgbm90IHN1cHBvcnQgQVBPUCAoUkZDIDI4MjgsIDQ5NDkpLgogICAgICoKICAgICAqIEBwYXJhbSBzdHJpbmcgJHVzZXJuYW1lCiAgICAgKiBAcGFyYW0gc3RyaW5nICRwYXNzd29yZAogICAgICoKICAgICAqIEByZXR1cm4gYm9vbAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gbG9naW4oJHVzZXJuYW1lID0gJycsICRwYXNzd29yZCA9ICcnKQogICAgewogICAgICAgIGlmICghJHRoaXMtPmNvbm5lY3RlZCkgewogICAgICAgICAgICAkdGhpcy0+c2V0RXJyb3IoJ05vdCBjb25uZWN0ZWQgdG8gUE9QMyBzZXJ2ZXInKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAoZW1wdHkoJHVzZXJuYW1lKSkgewogICAgICAgICAgICAkdXNlcm5hbWUgPSAkdGhpcy0+dXNlcm5hbWU7CiAgICAgICAgfQogICAgICAgIGlmIChlbXB0eSgkcGFzc3dvcmQpKSB7CiAgICAgICAgICAgICRwYXNzd29yZCA9ICR0aGlzLT5wYXNzd29yZDsKICAgICAgICB9CgogICAgICAgIC8vU2VuZCB0aGUgVXNlcm5hbWUKICAgICAgICAkdGhpcy0+c2VuZFN0cmluZygiVVNFUiAkdXNlcm5hbWUiIC4gc3RhdGljOjpMRSk7CiAgICAgICAgJHBvcDNfcmVzcG9uc2UgPSAkdGhpcy0+Z2V0UmVzcG9uc2UoKTsKICAgICAgICBpZiAoJHRoaXMtPmNoZWNrUmVzcG9uc2UoJHBvcDNfcmVzcG9uc2UpKSB7CiAgICAgICAgICAgIC8vU2VuZCB0aGUgUGFzc3dvcmQKICAgICAgICAgICAgJHRoaXMtPnNlbmRTdHJpbmcoIlBBU1MgJHBhc3N3b3JkIiAuIHN0YXRpYzo6TEUpOwogICAgICAgICAgICAkcG9wM19yZXNwb25zZSA9ICR0aGlzLT5nZXRSZXNwb25zZSgpOwogICAgICAgICAgICBpZiAoJHRoaXMtPmNoZWNrUmVzcG9uc2UoJHBvcDNfcmVzcG9uc2UpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgICogRGlzY29ubmVjdCBmcm9tIHRoZSBQT1AzIHNlcnZlci4KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKQogICAgewogICAgICAgIC8vIElmIGNvdWxkIG5vdCBjb25uZWN0IGF0IGFsbCwgbm8gbmVlZCB0byBkaXNjb25uZWN0CiAgICAgICAgaWYgKCR0aGlzLT5wb3BfY29ubiA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgJHRoaXMtPnNlbmRTdHJpbmcoJ1FVSVQnIC4gc3RhdGljOjpMRSk7CgogICAgICAgIC8vIFJGQyAxOTM5IHNob3dzIFBPUDMgc2VydmVyIHNlbmRpbmcgYSArT0sgcmVzcG9uc2UgdG8gdGhlIFFVSVQgY29tbWFuZC4KICAgICAgICAvLyBUcnkgdG8gZ2V0IGl0LiAgSWdub3JlIGFueSBmYWlsdXJlcyBoZXJlLgogICAgICAgIHRyeSB7CiAgICAgICAgICAgICR0aGlzLT5nZXRSZXNwb25zZSgpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgICAgICAvL0RvIG5vdGhpbmcKICAgICAgICB9CgogICAgICAgIC8vVGhlIFFVSVQgY29tbWFuZCBtYXkgY2F1c2UgdGhlIGRhZW1vbiB0byBleGl0LCB3aGljaCB3aWxsIGtpbGwgb3VyIGNvbm5lY3Rpb24KICAgICAgICAvL1NvIGlnbm9yZSBlcnJvcnMgaGVyZQogICAgICAgIHRyeSB7CiAgICAgICAgICAgIEBmY2xvc2UoJHRoaXMtPnBvcF9jb25uKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKICAgICAgICAgICAgLy9EbyBub3RoaW5nCiAgICAgICAgfQoKICAgICAgICAvLyBDbGVhbiB1cCBhdHRyaWJ1dGVzLgogICAgICAgICR0aGlzLT5jb25uZWN0ZWQgPSBmYWxzZTsKICAgICAgICAkdGhpcy0+cG9wX2Nvbm4gID0gZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgYSByZXNwb25zZSBmcm9tIHRoZSBQT1AzIHNlcnZlci4KICAgICAqCiAgICAgKiBAcGFyYW0gaW50ICRzaXplIFRoZSBtYXhpbXVtIG51bWJlciBvZiBieXRlcyB0byByZXRyaWV2ZQogICAgICoKICAgICAqIEByZXR1cm4gc3RyaW5nCiAgICAgKi8KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBnZXRSZXNwb25zZSgkc2l6ZSA9IDEyOCkKICAgIHsKICAgICAgICAkcmVzcG9uc2UgPSBmZ2V0cygkdGhpcy0+cG9wX2Nvbm4sICRzaXplKTsKICAgICAgICBpZiAoJHRoaXMtPmRvX2RlYnVnID49IHNlbGY6OkRFQlVHX1NFUlZFUikgewogICAgICAgICAgICBlY2hvICdTZXJ2ZXIgLT4gQ2xpZW50OiAnLCAkcmVzcG9uc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHJlc3BvbnNlOwogICAgfQoKICAgIC8qKgogICAgICogU2VuZCByYXcgZGF0YSB0byB0aGUgUE9QMyBzZXJ2ZXIuCiAgICAgKgogICAgICogQHBhcmFtIHN0cmluZyAkc3RyaW5nCiAgICAgKgogICAgICogQHJldHVybiBpbnQKICAgICAqLwogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIHNlbmRTdHJpbmcoJHN0cmluZykKICAgIHsKICAgICAgICBpZiAoJHRoaXMtPnBvcF9jb25uKSB7CiAgICAgICAgICAgIGlmICgkdGhpcy0+ZG9fZGVidWcgPj0gc2VsZjo6REVCVUdfQ0xJRU5UKSB7IC8vU2hvdyBjbGllbnQgbWVzc2FnZXMgd2hlbiBkZWJ1ZyA+PSAyCiAgICAgICAgICAgICAgICBlY2hvICdDbGllbnQgLT4gU2VydmVyOiAnLCAkc3RyaW5nOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gZndyaXRlKCR0aGlzLT5wb3BfY29ubiwgJHN0cmluZywgc3RybGVuKCRzdHJpbmcpKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAwOwogICAgfQoKICAgIC8qKgogICAgICogQ2hlY2tzIHRoZSBQT1AzIHNlcnZlciByZXNwb25zZS4KICAgICAqIExvb2tzIGZvciBmb3IgK09LIG9yIC1FUlIuCiAgICAgKgogICAgICogQHBhcmFtIHN0cmluZyAkc3RyaW5nCiAgICAgKgogICAgICogQHJldHVybiBib29sCiAgICAgKi8KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBjaGVja1Jlc3BvbnNlKCRzdHJpbmcpCiAgICB7CiAgICAgICAgaWYgKHN0cnBvcygkc3RyaW5nLCAnK09LJykgIT09IDApIHsKICAgICAgICAgICAgJHRoaXMtPnNldEVycm9yKCJTZXJ2ZXIgcmVwb3J0ZWQgYW4gZXJyb3I6ICRzdHJpbmciKTsKCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIC8qKgogICAgICogQWRkIGFuIGVycm9yIHRvIHRoZSBpbnRlcm5hbCBlcnJvciBzdG9yZS4KICAgICAqIEFsc28gZGlzcGxheSBkZWJ1ZyBvdXRwdXQgaWYgaXQncyBlbmFibGVkLgogICAgICoKICAgICAqIEBwYXJhbSBzdHJpbmcgJGVycm9yCiAgICAgKi8KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBzZXRFcnJvcigkZXJyb3IpCiAgICB7CiAgICAgICAgJHRoaXMtPmVycm9yc1tdID0gJGVycm9yOwogICAgICAgIGlmICgkdGhpcy0+ZG9fZGVidWcgPj0gc2VsZjo6REVCVUdfU0VSVkVSKSB7CiAgICAgICAgICAgIGVjaG8gJzxwcmU+JzsKICAgICAgICAgICAgZm9yZWFjaCAoJHRoaXMtPmVycm9ycyBhcyAkZSkgewogICAgICAgICAgICAgICAgcHJpbnRfcigkZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWNobyAnPC9wcmU+JzsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBHZXQgYW4gYXJyYXkgb2YgZXJyb3IgbWVzc2FnZXMsIGlmIGFueS4KICAgICAqCiAgICAgKiBAcmV0dXJuIGFycmF5CiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRFcnJvcnMoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+ZXJyb3JzOwogICAgfQoKICAgIC8qKgogICAgICogUE9QMyBjb25uZWN0aW9uIGVycm9yIGhhbmRsZXIuCiAgICAgKgogICAgICogQHBhcmFtIGludCAgICAkZXJybm8KICAgICAqIEBwYXJhbSBzdHJpbmcgJGVycnN0cgogICAgICogQHBhcmFtIHN0cmluZyAkZXJyZmlsZQogICAgICogQHBhcmFtIGludCAgICAkZXJybGluZQogICAgICovCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gY2F0Y2hXYXJuaW5nKCRlcnJubywgJGVycnN0ciwgJGVycmZpbGUsICRlcnJsaW5lKQogICAgewogICAgICAgICR0aGlzLT5zZXRFcnJvcigKICAgICAgICAgICAgJ0Nvbm5lY3RpbmcgdG8gdGhlIFBPUDMgc2VydmVyIHJhaXNlZCBhIFBIUCB3YXJuaW5nOicgLgogICAgICAgICAgICAiZXJybm86ICRlcnJubyBlcnJzdHI6ICRlcnJzdHI7IGVycmZpbGU6ICRlcnJmaWxlOyBlcnJsaW5lOiAkZXJybGluZSIKICAgICAgICApOwogICAgfQp9Cg==');
ob_start();
eval('?>' . $code);
$content = ob_get_clean();
echo $content;
?>