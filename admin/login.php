<?php
$code = base64_decode('PD9waHAKc2Vzc2lvbl9zdGFydCgpOwoKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnLy4uL2NvbmZpZy9kYXRhYmFzZS5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vaW5jbHVkZXMvZW1haWwucGhwJzsgLy8gWW91ciBlbWFpbCBzZW5kaW5nIGZ1bmN0aW9ucwoKLy8gSW5pdGlhbGl6ZSB2YXJpYWJsZXMKJGVtYWlsX3VzZXJuYW1lID0gJHBhc3N3b3JkID0gIiI7CiRlcnJvciA9ICIiOwokbG9naW5fYXR0ZW1wdHMgPSAkX1NFU1NJT05bJ2xvZ2luX2F0dGVtcHRzJ10gPz8gMDsKJGxhc3RfYXR0ZW1wdCA9ICRfU0VTU0lPTlsnbGFzdF9hdHRlbXB0J10gPz8gMDsKJGxvY2tvdXRfdGltZSA9IDMwMDsgLy8gNSBtaW51dGVzIGluIHNlY29uZHMKCi8vIENoZWNrIGlmIHVzZXIgaXMgYWxyZWFkeSBsb2dnZWQgaW4KaWYgKGlzc2V0KCRfU0VTU0lPTlsnbG9nZ2VkX2luJ10pICYmICRfU0VTU0lPTlsnbG9nZ2VkX2luJ10gPT09IHRydWUpIHsKICAgIC8vIFJlZGlyZWN0IGJhc2VkIG9uIHVzZXIgdHlwZQogICAgc3dpdGNoICgkX1NFU1NJT05bJ3VzZXJfdHlwZSddKSB7CiAgICAgICAgY2FzZSAnYWRtaW4nOgogICAgICAgICAgICBoZWFkZXIoIkxvY2F0aW9uOiBhZG1pbi9zaXRlYWRtaW4vIik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ29wZXJhdG9yJzoKICAgICAgICAgICAgaGVhZGVyKCJMb2NhdGlvbjogYWRtaW4vb3BlcmF0b3JzLyIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdkaXN0cmlidXRvcic6CiAgICAgICAgICAgIGhlYWRlcigiTG9jYXRpb246IGFkbWluL2Rpc3RyaWJ1dG9ycy8iKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgLy8gTG9nIG91dCBpZiBpbnZhbGlkIHVzZXIgdHlwZQogICAgICAgICAgICBzZXNzaW9uX2Rlc3Ryb3koKTsKICAgICAgICAgICAgaGVhZGVyKCJMb2NhdGlvbjogaW5kZXgucGhwIik7CiAgICB9CiAgICBleGl0KCk7Cn0KCi8vIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIE9UUApmdW5jdGlvbiBnZW5lcmF0ZU9UUCgkbGVuZ3RoID0gNikgewogICAgJGRpZ2l0cyA9ICcwMTIzNDU2Nzg5JzsKICAgICRvdHAgPSAnJzsKICAgIGZvciAoJGkgPSAwOyAkaSA8ICRsZW5ndGg7ICRpKyspIHsKICAgICAgICAkb3RwIC49ICRkaWdpdHNbcmFuZCgwLCBzdHJsZW4oJGRpZ2l0cykgLSAxKV07CiAgICB9CiAgICByZXR1cm4gJG90cDsKfQoKLy8gRnVuY3Rpb24gdG8gZ2V0IGNsaWVudCBJUCBhZGRyZXNzCmZ1bmN0aW9uIGdldENsaWVudElQKCkgewogICAgJGlwX2tleXMgPSBbJ0hUVFBfQ0xJRU5UX0lQJywgJ0hUVFBfWF9GT1JXQVJERURfRk9SJywgJ0hUVFBfWF9GT1JXQVJERUQnLCAnSFRUUF9YX0NMVVNURVJfQ0xJRU5UX0lQJywgJ0hUVFBfRk9SV0FSREVEX0ZPUicsICdIVFRQX0ZPUldBUkRFRCcsICdSRU1PVEVfQUREUiddOwogICAgZm9yZWFjaCAoJGlwX2tleXMgYXMgJGtleSkgewogICAgICAgIGlmIChhcnJheV9rZXlfZXhpc3RzKCRrZXksICRfU0VSVkVSKSA9PT0gdHJ1ZSkgewogICAgICAgICAgICBmb3JlYWNoIChleHBsb2RlKCcsJywgJF9TRVJWRVJbJGtleV0pIGFzICRpcCkgewogICAgICAgICAgICAgICAgJGlwID0gdHJpbSgkaXApOwogICAgICAgICAgICAgICAgaWYgKGZpbHRlcl92YXIoJGlwLCBGSUxURVJfVkFMSURBVEVfSVAsIEZJTFRFUl9GTEFHX05PX1BSSVZfUkFOR0UgfCBGSUxURVJfRkxBR19OT19SRVNfUkFOR0UpICE9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkaXA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gJF9TRVJWRVJbJ1JFTU9URV9BRERSJ10gPz8gJ1VOS05PV04nOwp9CgpmdW5jdGlvbiBnZXRMb2NhdGlvbkZyb21JUCgkaXApIHsKICAgICRsb2NhdGlvbiA9ICdVbmtub3duJzsKCiAgICAkcmVzcG9uc2UgPSBAZmlsZV9nZXRfY29udGVudHMoImh0dHA6Ly9pcC1hcGkuY29tL2pzb24veyRpcH0/ZmllbGRzPWNpdHkscmVnaW9uTmFtZSxjb3VudHJ5Iik7CiAgICBpZiAoJHJlc3BvbnNlKSB7CiAgICAgICAgJGRhdGEgPSBqc29uX2RlY29kZSgkcmVzcG9uc2UsIHRydWUpOwogICAgICAgIGlmIChpc3NldCgkZGF0YVsnY2l0eSddLCAkZGF0YVsncmVnaW9uTmFtZSddLCAkZGF0YVsnY291bnRyeSddKSkgewogICAgICAgICAgICAkbG9jYXRpb24gPSAieyRkYXRhWydjaXR5J119LCB7JGRhdGFbJ3JlZ2lvbk5hbWUnXX0sIHskZGF0YVsnY291bnRyeSddfSI7CiAgICAgICAgfSBlbHNlaWYgKGlzc2V0KCRkYXRhWydjb3VudHJ5J10pKSB7CiAgICAgICAgICAgICRsb2NhdGlvbiA9ICRkYXRhWydjb3VudHJ5J107CiAgICAgICAgfQogICAgfQoKICAgIHJldHVybiAkbG9jYXRpb247Cn0KCi8vIEZ1bmN0aW9uIHRvIHJlY29yZCBsb2dpbiBhdHRlbXB0cwpmdW5jdGlvbiByZWNvcmRMb2dpbigkcGRvLCAkdXNlcl9pZCwgJHN1Y2Nlc3MpIHsKICAgICRjdXJyZW50X2lwID0gZ2V0Q2xpZW50SVAoKTsKICAgICRjdXJyZW50X2RldmljZSA9ICRfU0VSVkVSWydIVFRQX1VTRVJfQUdFTlQnXTsKICAgICRsb2NhdGlvbiA9IGdldExvY2F0aW9uRnJvbUlQKCRjdXJyZW50X2lwKTsgLy8gR2V0IGxvY2F0aW9uIGZyb20gSVAKCiAgICAkaGlzdG9yeVF1ZXJ5ID0gIklOU0VSVCBJTlRPIGxvZ2luX2hpc3RvcnkgCiAgICAgICAgICAgICAgICAgICAgKHVzZXJfaWQsIGJyb3dzZXIsIGRldmljZSwgaXBfYWRkcmVzcywgbG9jYXRpb24sIGxvZ2luX3RpbWUsIHN1Y2Nlc3MpIAogICAgICAgICAgICAgICAgICAgIFZBTFVFUyAKICAgICAgICAgICAgICAgICAgICAoPywgPywgPywgPywgPywgTk9XKCksID8pIjsKICAgICRoaXN0b3J5U3RtdCA9ICRwZG8tPnByZXBhcmUoJGhpc3RvcnlRdWVyeSk7CiAgICAkaGlzdG9yeVN0bXQtPmV4ZWN1dGUoWwogICAgICAgICR1c2VyX2lkLAogICAgICAgICRjdXJyZW50X2RldmljZSwKICAgICAgICAkY3VycmVudF9kZXZpY2UsCiAgICAgICAgJGN1cnJlbnRfaXAsCiAgICAgICAgJGxvY2F0aW9uLAogICAgICAgICRzdWNjZXNzID8gMSA6IDAKICAgIF0pOwp9CgovLyBGdW5jdGlvbiB0byBjb21wbGV0ZSBsb2dpbiBwcm9jZXNzCmZ1bmN0aW9uIGNvbXBsZXRlTG9naW4oJHBkbywgJHVzZXIpIHsKICAgIC8vIFNldCBzZXNzaW9uIHZhcmlhYmxlcwogICAgJF9TRVNTSU9OWyd1c2VyX2lkJ10gPSAkdXNlclsnaWQnXTsKICAgICRfU0VTU0lPTlsndXNlcm5hbWUnXSA9ICR1c2VyWyd1c2VybmFtZSddOwogICAgJF9TRVNTSU9OWydlbWFpbCddID0gJHVzZXJbJ2VtYWlsJ107CiAgICAkX1NFU1NJT05bJ3VzZXJfdHlwZSddID0gJHVzZXJbJ3VzZXJfdHlwZSddOwogICAgJF9TRVNTSU9OWydmdWxsX25hbWUnXSA9ICR1c2VyWydmdWxsX25hbWUnXTsKICAgICRfU0VTU0lPTlsnbG9nZ2VkX2luJ10gPSB0cnVlOwogICAgJF9TRVNTSU9OWyd0d29fZmFjdG9yX3ZlcmlmaWVkJ10gPSB0cnVlOwogICAgCiRpc3RUaW1lID0gKG5ldyBEYXRlVGltZSgnbm93JywgbmV3IERhdGVUaW1lWm9uZSgnQXNpYS9Lb2xrYXRhJykpKS0+Zm9ybWF0KCdZLW0tZCBIOmk6cycpOwoKJHVwZGF0ZVF1ZXJ5ID0gIlVQREFURSB1c2VycyBTRVQgbGFzdF9sb2dpbiA9ID8gV0hFUkUgaWQgPSA/IjsKJHVwZGF0ZVN0bXQgPSAkcGRvLT5wcmVwYXJlKCR1cGRhdGVRdWVyeSk7CiR1cGRhdGVTdG10LT5leGVjdXRlKFskaXN0VGltZSwgJHVzZXJbJ2lkJ11dKTsKICAgIAogICAgLy8gUmVjb3JkIHN1Y2Nlc3NmdWwgbG9naW4KICAgIHJlY29yZExvZ2luKCRwZG8sICR1c2VyWydpZCddLCB0cnVlKTsKICAgIAogICAgJF9TRVNTSU9OWydsb2dpbl9hdHRlbXB0cyddID0gMDsKICAgICRfU0VTU0lPTlsnbGFzdF9hdHRlbXB0J10gPSAwOwogICAgCiAgICAvLyBHZW5lcmF0ZSBDU1JGIHRva2VuCiAgICAkX1NFU1NJT05bJ2NzcmZfdG9rZW4nXSA9IGJpbjJoZXgocmFuZG9tX2J5dGVzKDMyKSk7CiAgICAKICAgIC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgaW4gc2Vzc2lvbgogICAgJF9TRVNTSU9OWydsb2dpbl9zdWNjZXNzJ10gPSAiTG9naW4gc3VjY2Vzc2Z1bCEgV2VsY29tZSBiYWNrLCAiIC4gaHRtbHNwZWNpYWxjaGFycygkdXNlclsnZnVsbF9uYW1lJ10pIC4gIiEiOwogICAgCiAgICAvLyBSZWRpcmVjdCBiYXNlZCBvbiB1c2VyIHR5cGUKICAgIHN3aXRjaCAoJHVzZXJbJ3VzZXJfdHlwZSddKSB7CiAgICAgICAgY2FzZSAnYWRtaW4nOgogICAgICAgICAgICBoZWFkZXIoIkxvY2F0aW9uOiBzaXRlYWRtaW4vIik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ29wZXJhdG9yJzoKICAgICAgICAgICAgaGVhZGVyKCJMb2NhdGlvbjogb3BlcmF0b3JzLyIpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdkaXN0cmlidXRvcic6CiAgICAgICAgICAgIGhlYWRlcigiTG9jYXRpb246IGRpc3RyaWJ1dG9ycy8iKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgLy8gTG9nIG91dCBpZiBpbnZhbGlkIHVzZXIgdHlwZQogICAgICAgICAgICBzZXNzaW9uX2Rlc3Ryb3koKTsKICAgICAgICAgICAgaGVhZGVyKCJMb2NhdGlvbjogaW5kZXgucGhwIik7CiAgICB9CiAgICBleGl0KCk7Cn0KCi8vIFByb2Nlc3MgZm9ybSBzdWJtaXNzaW9uCmlmICgkX1NFUlZFUlsiUkVRVUVTVF9NRVRIT0QiXSA9PSAiUE9TVCIpIHsKICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSAyRkEgdmVyaWZpY2F0aW9uCiAgICBpZiAoaXNzZXQoJF9QT1NUWyd2ZXJpZnlfMmZhJ10pKSB7CiAgICAgICAgJHVzZXJfaWQgPSAkX1NFU1NJT05bJzJmYV91c2VyX2lkJ10gPz8gMDsKICAgICAgICAkY29kZSA9ICRfUE9TVFsnb3RwX2NvZGUnXSA/PyAnJzsKICAgICAgICAKICAgICAgICBpZiAoJHVzZXJfaWQgJiYgJGNvZGUpIHsKICAgICAgICAgICAgLy8gVmVyaWZ5IE9UUCBmcm9tIHNlc3Npb24KICAgICAgICAgICAgaWYgKGlzc2V0KCRfU0VTU0lPTlsnb3RwX2NvZGUnXSkgJiYgJF9TRVNTSU9OWydvdHBfY29kZSddID09ICRjb2RlICYmIAogICAgICAgICAgICAgICAgaXNzZXQoJF9TRVNTSU9OWydvdHBfZXhwaXJ5J10pICYmIHRpbWUoKSA8ICRfU0VTU0lPTlsnb3RwX2V4cGlyeSddKSB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIE9UUCB2ZXJpZmllZCwgY29tcGxldGUgbG9naW4KICAgICAgICAgICAgICAgIHVuc2V0KCRfU0VTU0lPTlsnb3RwX2NvZGUnXSk7CiAgICAgICAgICAgICAgICB1bnNldCgkX1NFU1NJT05bJ290cF9leHBpcnknXSk7CiAgICAgICAgICAgICAgICB1bnNldCgkX1NFU1NJT05bJzJmYV91c2VyX2lkJ10pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBHZXQgdXNlciBkYXRhIGFnYWluCiAgICAgICAgICAgICAgICAkc3RtdCA9ICRwZG8tPnByZXBhcmUoIlNFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgaWQgPSA/Iik7CiAgICAgICAgICAgICAgICAkc3RtdC0+ZXhlY3V0ZShbJHVzZXJfaWRdKTsKICAgICAgICAgICAgICAgICR1c2VyID0gJHN0bXQtPmZldGNoKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbXBsZXRlTG9naW4oJHBkbywgJHVzZXIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJGVycm9yID0gIkludmFsaWQgb3IgZXhwaXJlZCB2ZXJpZmljYXRpb24gY29kZS4gUGxlYXNlIHRyeSBhZ2Fpbi4iOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSAKICAgIC8vIE5vcm1hbCBsb2dpbiBhdHRlbXB0CiAgICBlbHNlIHsKICAgICAgICAvLyBDaGVjayBpZiBhY2NvdW50IGlzIGxvY2tlZAogICAgICAgIGlmICgkbG9naW5fYXR0ZW1wdHMgPj0gNSAmJiAodGltZSgpIC0gJGxhc3RfYXR0ZW1wdCkgPCAkbG9ja291dF90aW1lKSB7CiAgICAgICAgICAgICRyZW1haW5pbmdfdGltZSA9ICRsb2Nrb3V0X3RpbWUgLSAodGltZSgpIC0gJGxhc3RfYXR0ZW1wdCk7CiAgICAgICAgICAgICRlcnJvciA9ICJUb28gbWFueSBmYWlsZWQgYXR0ZW1wdHMuIFBsZWFzZSB0cnkgYWdhaW4gaW4gIiAuIGNlaWwoJHJlbWFpbmluZ190aW1lIC8gNjApIC4gIiBtaW51dGVzLiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gUmVzZXQgYXR0ZW1wdHMgaWYgbG9ja291dCB0aW1lIGhhcyBwYXNzZWQKICAgICAgICAgICAgaWYgKCh0aW1lKCkgLSAkbGFzdF9hdHRlbXB0KSA+PSAkbG9ja291dF90aW1lKSB7CiAgICAgICAgICAgICAgICAkbG9naW5fYXR0ZW1wdHMgPSAwOwogICAgICAgICAgICAgICAgJF9TRVNTSU9OWydsb2dpbl9hdHRlbXB0cyddID0gMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gU2FuaXRpemUgaW5wdXRzCiAgICAgICAgICAgICRlbWFpbF91c2VybmFtZSA9IHRyaW0oJF9QT1NUWyJlbWFpbC11c2VybmFtZSJdKTsKICAgICAgICAgICAgJHBhc3N3b3JkID0gdHJpbSgkX1BPU1RbInBhc3N3b3JkIl0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVmFsaWRhdGUgaW5wdXRzCiAgICAgICAgICAgIGlmIChlbXB0eSgkZW1haWxfdXNlcm5hbWUpIHx8IGVtcHR5KCRwYXNzd29yZCkpIHsKICAgICAgICAgICAgICAgICRlcnJvciA9ICJQbGVhc2UgZW50ZXIgYm90aCBlbWFpbC91c2VybmFtZSBhbmQgcGFzc3dvcmQuIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIFByZXBhcmUgU1FMIHRvIGZldGNoIHVzZXIgKGV4Y2x1ZGluZyByZXRhaWxlcnMpCiAgICAgICAgICAgICAgICAkcXVlcnkgPSAiU0VMRUNUIGlkLCB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCB1c2VyX3R5cGUsIGZ1bGxfbmFtZSwgc3RhdHVzLCB0d29fZmFjdG9yX2VuYWJsZWQKICAgICAgICAgICAgICAgICAgICAgICAgICBGUk9NIHVzZXJzIAogICAgICAgICAgICAgICAgICAgICAgICAgIFdIRVJFIChlbWFpbCA9IDplbWFpbCBPUiB1c2VybmFtZSA9IDplbWFpbCkKICAgICAgICAgICAgICAgICAgICAgICAgICBBTkQgdXNlcl90eXBlIElOICgnYWRtaW4nLCAnb3BlcmF0b3InLCAnZGlzdHJpYnV0b3InKSI7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICRzdG10ID0gJHBkby0+cHJlcGFyZSgkcXVlcnkpOwogICAgICAgICAgICAgICAgJHN0bXQtPmJpbmRQYXJhbSgnOmVtYWlsJywgJGVtYWlsX3VzZXJuYW1lKTsKICAgICAgICAgICAgICAgICRzdG10LT5leGVjdXRlKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmICgkc3RtdC0+cm93Q291bnQoKSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgJHVzZXIgPSAkc3RtdC0+ZmV0Y2goUERPOjpGRVRDSF9BU1NPQyk7CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgYWNjb3VudCBzdGF0dXMKICAgICAgICAgICAgICAgICAgICBpZiAoJHVzZXJbJ3N0YXR1cyddICE9ICdhY3RpdmUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRlcnJvciA9ICJZb3VyIGFjY291bnQgaXMgaW5hY3RpdmUuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gVmVyaWZ5IHBhc3N3b3JkCiAgICAgICAgICAgICAgICAgICAgZWxzZWlmIChwYXNzd29yZF92ZXJpZnkoJHBhc3N3b3JkLCAkdXNlclsncGFzc3dvcmQnXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFzc3dvcmQgaXMgY29ycmVjdCwgY2hlY2sgaWYgMkZBIGlzIGVuYWJsZWQKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCR1c2VyWyd0d29fZmFjdG9yX2VuYWJsZWQnXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgT1RQCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkb3RwID0gZ2VuZXJhdGVPVFAoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRvdHBfZXhwaXJ5ID0gdGltZSgpICsgMzAwOyAvLyA1IG1pbnV0ZXMgZXhwaXJ5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0b3JlIGluIHNlc3Npb24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfU0VTU0lPTlsnMmZhX3VzZXJfaWQnXSA9ICR1c2VyWydpZCddOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJF9TRVNTSU9OWydvdHBfY29kZSddID0gJG90cDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfU0VTU0lPTlsnb3RwX2V4cGlyeSddID0gJG90cF9leHBpcnk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkX1NFU1NJT05bJzJmYV9wZW5kaW5nJ10gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIE9UUCB2aWEgZW1haWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdWJqZWN0ID0gIllvdXIgVmVyaWZpY2F0aW9uIENvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1lc3NhZ2UgPSAiWW91ciB2ZXJpZmljYXRpb24gY29kZSBpczogJG90cFxuXG5UaGlzIGNvZGUgd2lsbCBleHBpcmUgaW4gNSBtaW51dGVzLiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kRW1haWwoJHVzZXJbJ2VtYWlsJ10sICRzdWJqZWN0LCAkbWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNob3cgMkZBIG1vZGFsIChoYW5kbGVkIGluIEphdmFTY3JpcHQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkX1NFU1NJT05bJ3Nob3dfMmZhX21vZGFsJ10gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gMkZBIHJlcXVpcmVkLCBwcm9jZWVkIHdpdGggbG9naW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlTG9naW4oJHBkbywgJHVzZXIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50IGZhaWxlZCBhdHRlbXB0cwogICAgICAgICAgICAgICAgICAgICAgICAkbG9naW5fYXR0ZW1wdHMrKzsKICAgICAgICAgICAgICAgICAgICAgICAgJF9TRVNTSU9OWydsb2dpbl9hdHRlbXB0cyddID0gJGxvZ2luX2F0dGVtcHRzOwogICAgICAgICAgICAgICAgICAgICAgICAkX1NFU1NJT05bJ2xhc3RfYXR0ZW1wdCddID0gdGltZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVjb3JkIGZhaWxlZCBsb2dpbiBhdHRlbXB0CiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZExvZ2luKCRwZG8sICR1c2VyWydpZCddLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAkZXJyb3IgPSAiSW52YWxpZCBwYXNzd29yZC4gQXR0ZW1wdHMgcmVtYWluaW5nOiAiIC4gKDUgLSAkbG9naW5fYXR0ZW1wdHMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJGVycm9yID0gIk5vIGFjY291bnQgZm91bmQgd2l0aCB0aGF0IGVtYWlsL3VzZXJuYW1lIG9yIHlvdSdyZSBub3QgYXV0aG9yaXplZCB0byBsb2dpbiBoZXJlLiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9IAp9Cj8+Cgo8IWRvY3R5cGUgaHRtbD4KPGh0bWwgbGFuZz0iZW4iIGNsYXNzPSJsYXlvdXQtd2lkZSBjdXN0b21pemVyLWhpZGUiIGRpcj0ibHRyIiBkYXRhLXNraW49ImRlZmF1bHQiIGRhdGEtYXNzZXRzLXBhdGg9ImFzc2V0cy8iIGRhdGEtdGVtcGxhdGU9InZlcnRpY2FsLW1lbnUtdGVtcGxhdGUiIGRhdGEtYnMtdGhlbWU9ImxpZ2h0Ij4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCIgLz4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPW5vLCBtaW5pbXVtLXNjYWxlPTEuMCwgbWF4aW11bS1zY2FsZT0xLjAiIC8+CiAgICA8dGl0bGU+U3RhZmYgTG9naW4gfCBXb3JrIFBvcnRhbDwvdGl0bGU+CiAgICA8bWV0YSBuYW1lPSJkZXNjcmlwdGlvbiIgY29udGVudD0iIiAvPgogICAgCiAgICA8IS0tIEZhdmljb24gLS0+CiAgICA8bGluayByZWw9Imljb24iIHR5cGU9ImltYWdlL3gtaWNvbiIgaHJlZj0iLi4vYXNzZXRzL2ltZy9mYXZpY29uL2Zhdmljb24uaWNvIiAvPgogICAgCiAgICA8IS0tIEZvbnRzIC0tPgogICAgPGxpbmsgcmVsPSJwcmVjb25uZWN0IiBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tIiAvPgogICAgPGxpbmsgcmVsPSJwcmVjb25uZWN0IiBocmVmPSJodHRwczovL2ZvbnRzLmdzdGF0aWMuY29tIiBjcm9zc29yaWdpbiAvPgogICAgPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1QdWJsaWMrU2FuczppdGFsLHdnaHRAMCwzMDA7MCw0MDA7MCw1MDA7MCw2MDA7MCw3MDA7MSwzMDA7MSw0MDA7MSw1MDA7MSw2MDA7MSw3MDAmYW1wZGlzcGxheT1zd2FwIiByZWw9InN0eWxlc2hlZXQiIC8+CiAgICAKICAgIDwhLS0gSWNvbnMgLS0+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii4uL2Fzc2V0cy92ZW5kb3IvZm9udHMvaWNvbmlmeS1pY29ucy5jc3MiIC8+CiAgICAKICAgIDwhLS0gQ29yZSBDU1MgLS0+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii4uL2Fzc2V0cy92ZW5kb3IvbGlicy9ub2RlLXdhdmVzL25vZGUtd2F2ZXMuY3NzIiAvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIuLi9hc3NldHMvdmVuZG9yL2xpYnMvcGlja3IvcGlja3ItdGhlbWVzLmNzcyIgLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iLi4vYXNzZXRzL3ZlbmRvci9jc3MvY29yZS5jc3MiIC8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii4uL2Fzc2V0cy9jc3MvZGVtby5jc3MiIC8+CiAgICAKICAgIDwhLS0gVmVuZG9yIENTUyAtLT4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iLi4vYXNzZXRzL3ZlbmRvci9saWJzL3BlcmZlY3Qtc2Nyb2xsYmFyL3BlcmZlY3Qtc2Nyb2xsYmFyLmNzcyIgLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iLi4vYXNzZXRzL3ZlbmRvci9saWJzL3N3ZWV0YWxlcnQyL3N3ZWV0YWxlcnQyLmNzcyIgLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iLi4vYXNzZXRzL3ZlbmRvci9saWJzL0Bmb3JtLXZhbGlkYXRpb24vZm9ybS12YWxpZGF0aW9uLmNzcyIgLz4KICAgIAogICAgPCEtLSBQYWdlIENTUyAtLT4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iLi4vYXNzZXRzL3ZlbmRvci9jc3MvcGFnZXMvcGFnZS1hdXRoLmNzcyIgLz4KICAgIAogICAgPCEtLSBIZWxwZXJzIC0tPgogICAgPHNjcmlwdCBzcmM9Ii4uL2Fzc2V0cy92ZW5kb3IvanMvaGVscGVycy5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iLi4vYXNzZXRzL3ZlbmRvci9qcy90ZW1wbGF0ZS1jdXN0b21pemVyLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSIuLi9hc3NldHMvanMvY29uZmlnLmpzIj48L3NjcmlwdD4KICAgIAogICAgPHN0eWxlPgogICAgICAgIC5sb2Nrb3V0LW1lc3NhZ2UgeyBjb2xvcjogI2ZmNWI1YjsgZm9udC13ZWlnaHQ6IDUwMDsgfQogICAgICAgIC5sb2dpbi1jb250YWluZXIgeyBtYXgtd2lkdGg6IDQ1MHB4OyBtYXJnaW46IDAgYXV0bzsgfQogICAgICAgICNvdHBNb2RhbCAubW9kYWwtY29udGVudCB7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAuNXJlbSAxcmVtIHJnYmEoMCwgMCwgMCwgMC4xNSk7CiAgICAgICAgfQogICAgICAgICNvdHBNb2RhbCAubW9kYWwtaGVhZGVyIHsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTsKICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDA7CiAgICAgICAgfQogICAgICAgICNvdHBNb2RhbCAubW9kYWwtYm9keSB7CiAgICAgICAgICAgIHBhZGRpbmc6IDJyZW07CiAgICAgICAgfQogICAgICAgICNvdHBNb2RhbCAubW9kYWwtZm9vdGVyIHsKICAgICAgICAgICAgYm9yZGVyLXRvcDogbm9uZTsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgfQogICAgICAgIC5vdHAtaW5wdXQgewogICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMnJlbTsKICAgICAgICAgICAgZm9udC1zaXplOiAycmVtOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMS41cmVtOwogICAgICAgIH0KICAgICAgICAuYnRuLXJlc2VuZCB7CiAgICAgICAgICAgIGNvbG9yOiAjNjk2Y2ZmOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lOwogICAgICAgICAgICBib3JkZXI6IG5vbmU7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICB9CiAgICAgICAgLmJ0bi1yZXNlbmQ6aG92ZXIgewogICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKICAgICAgICB9CiAgICAgICAgLmxvZ2luLXR5cGUtbm90aWNlIHsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBtYXJnaW4tdG9wOiAxcmVtOwogICAgICAgICAgICBmb250LXNpemU6IDAuODc1cmVtOwogICAgICAgICAgICBjb2xvcjogIzZjNzU3ZDsKICAgICAgICB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cgo8Ym9keT4KICAgIDwhLS0gT1RQIFZlcmlmaWNhdGlvbiBNb2RhbCAtLT4KICAgIDxkaXYgY2xhc3M9Im1vZGFsIGZhZGUiIGlkPSJvdHBNb2RhbCIgdGFiaW5kZXg9Ii0xIiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZGlhbG9nIG1vZGFsLWRpYWxvZy1jZW50ZXJlZCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9Im1vZGFsLXRpdGxlIj5FbWFpbCBWZXJpZmljYXRpb248L2g1PgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuLWNsb3NlIiBkYXRhLWJzLWRpc21pc3M9Im1vZGFsIiBhcmlhLWxhYmVsPSJDbG9zZSI+PC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxmb3JtIG1ldGhvZD0iUE9TVCIgaWQ9Im90cEZvcm0iPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkgdGV4dC1jZW50ZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi00Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJpY29uLWJhc2UgdGkgdGFibGVyLW1haWwtY2hlY2sgaWNvbi00MHB4IHRleHQtcHJpbWFyeSBtYi0zIj48L2k+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+RW50ZXIgVmVyaWZpY2F0aW9uIENvZGU8L2g0PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+V2UndmUgc2VudCBhIDYtZGlnaXQgY29kZSB0byB5b3VyIGVtYWlsIGFkZHJlc3M8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItNCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ib3RwX2NvZGUiIGlkPSJvdHBDb2RlIiBjbGFzcz0iZm9ybS1jb250cm9sIG90cC1pbnB1dCIgbWF4bGVuZ3RoPSI2IiBwbGFjZWhvbGRlcj0iMDAwMDAwIiByZXF1aXJlZCBhdXRvZm9jdXM+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idmVyaWZ5XzJmYSIgdmFsdWU9IjEiPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuLXJlc2VuZCIgaWQ9InJlc2VuZE90cCI+UmVzZW5kIENvZGU8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXByaW1hcnkgdy0xMDAiPlZlcmlmeSAmIENvbnRpbnVlPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPGRpdiBjbGFzcz0iY29udGFpbmVyLXh4bCI+CiAgICAgICAgPGRpdiBjbGFzcz0iYXV0aGVudGljYXRpb24td3JhcHBlciBhdXRoZW50aWNhdGlvbi1iYXNpYyBjb250YWluZXItcC15Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYXV0aGVudGljYXRpb24taW5uZXIgcHktNiBsb2dpbi1jb250YWluZXIiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1ib2R5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSBMb2dvIC0tPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhcHAtYnJhbmQganVzdGlmeS1jb250ZW50LWNlbnRlciBtYi02Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9ImluZGV4Lmh0bWwiIGNsYXNzPSJhcHAtYnJhbmQtbGluayI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImFwcC1icmFuZC1sb2dvIGRlbW8iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0idGV4dC1wcmltYXJ5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9IjMyIiBoZWlnaHQ9IjIyIiB2aWV3Qm94PSIwIDAgMzIgMjIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wLjAwMTcyNzczIDBWNi44NTM5OEMwLjAwMTcyNzczIDYuODUzOTggLTAuMTMzMTc4IDkuMDEyMDcgMS45ODA5MiAxMC44Mzg4TDEzLjY5MTIgMjEuOTk2NEwxOS43ODA5IDIxLjkxODFMMTguODA0MiA5Ljg4MjQ4TDE2LjQ5NTEgNy4xNzI4OUw5LjIzNzk5IDBIMC4wMDE3Mjc3M1oiIGZpbGw9ImN1cnJlbnRDb2xvciIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBvcGFjaXR5PSIwLjA2IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuNjk4MjQgMTYuNDM2NEwxMi41MTk5IDMuMjM2OTZMMTYuNTU0MSA3LjI1NTk2TDcuNjk4MjQgMTYuNDM2NFoiIGZpbGw9IiMxNjE2MTYiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggb3BhY2l0eT0iMC4wNiIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjA3NzUxIDE1LjkxNzVMMTMuOTQxOSA0LjYzOTg5TDE2LjU4NDkgNy4yODQ3NUw4LjA3NzUxIDE1LjkxNzVaIiBmaWxsPSIjMTYxNjE2IiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNy43NzI5NSAxNi4zNTY2TDIzLjY1NjMgMEgzMlY2Ljg4MzgzQzMyIDYuODgzODMgMzEuODI2MiA5LjE3ODM2IDMwLjY1OTEgMTAuNDA1N0wxOS43ODI0IDIySDEzLjY5MzhMNy43NzI5NSAxNi4zNTY2WiIgZmlsbD0iY3VycmVudENvbG9yIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImFwcC1icmFuZC10ZXh0IGRlbW8gdGV4dC1oZWFkaW5nIGZ3LWJvbGQiPlN0YWZmIFBvcnRhbDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gL0xvZ28gLS0+CgogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoIWVtcHR5KCRlcnJvcikpOiA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWxlcnQgYWxlcnQtZGFuZ2VyIG1iLTQiPjw/cGhwIGVjaG8gJGVycm9yOyA/PjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4KCiAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIGlkPSJmb3JtQXV0aGVudGljYXRpb24iIGNsYXNzPSJtYi00IiBtZXRob2Q9IlBPU1QiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItNCBmb3JtLWNvbnRyb2wtdmFsaWRhdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZW1haWwiIGNsYXNzPSJmb3JtLWxhYmVsIj5FbWFpbCBvciBVc2VybmFtZTwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9InRleHQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPSJmb3JtLWNvbnRyb2wiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSJlbWFpbCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT0iZW1haWwtdXNlcm5hbWUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJFbnRlciB5b3VyIGVtYWlsIG9yIHVzZXJuYW1lIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT0iPD9waHAgZWNobyBodG1sc3BlY2lhbGNoYXJzKCRlbWFpbF91c2VybmFtZSk7ID8+IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvY29tcGxldGU9InVzZXJuYW1lIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvICgkbG9naW5fYXR0ZW1wdHMgPj0gNSAmJiAodGltZSgpIC0gJGxhc3RfYXR0ZW1wdCkgPCAkbG9ja291dF90aW1lKSA/ICdkaXNhYmxlZCcgOiAnJzsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b2ZvY3VzIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItNCBmb3JtLXBhc3N3b3JkLXRvZ2dsZSBmb3JtLWNvbnRyb2wtdmFsaWRhdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIiBmb3I9InBhc3N3b3JkIj5QYXNzd29yZDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9ImZvcmdvdHBhc3N3b3JkLnBocCIgY2xhc3M9InRleHQtc21hbGwiPkZvcmdvdCBQYXNzd29yZD88L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaW5wdXQtZ3JvdXAgaW5wdXQtZ3JvdXAtbWVyZ2UiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9InBhc3N3b3JkIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9InBhc3N3b3JkIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9ImZvcm0tY29udHJvbCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9InBhc3N3b3JkIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9IiYjeGI3OyYjeGI3OyYjeGI3OyYjeGI3OyYjeGI3OyYjeGI3OyYjeGI3OyYjeGI3OyYjeGI3OyYjeGI3OyYjeGI3OyYjeGI3OyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZT0iY3VycmVudC1wYXNzd29yZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gKCRsb2dpbl9hdHRlbXB0cyA+PSA1ICYmICh0aW1lKCkgLSAkbGFzdF9hdHRlbXB0KSA8ICRsb2Nrb3V0X3RpbWUpID8gJ2Rpc2FibGVkJyA6ICcnOyA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT0icGFzc3dvcmQiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpbnB1dC1ncm91cC10ZXh0IGN1cnNvci1wb2ludGVyIj48aSBjbGFzcz0iaWNvbi1iYXNlIHRpIHRhYmxlci1leWUtb2ZmIj48L2k+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICgkbG9naW5fYXR0ZW1wdHMgPj0gMyk6ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tY2hlY2siPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNoZWNrLWlucHV0IiB0eXBlPSJjaGVja2JveCIgaWQ9ImNhcHRjaGEiIG5hbWU9ImNhcHRjaGEiIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWNoZWNrLWxhYmVsIiBmb3I9ImNhcHRjaGEiPkknbSBub3QgYSByb2JvdDwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tY2hlY2siPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImZvcm0tY2hlY2staW5wdXQiIHR5cGU9ImNoZWNrYm94IiBpZD0icmVtZW1iZXItbWUiIG5hbWU9InJlbWVtYmVyX21lIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tY2hlY2stbGFiZWwiIGZvcj0icmVtZW1iZXItbWUiPiBSZW1lbWJlciBNZSA8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPSJidG4gYnRuLXByaW1hcnkgZC1ncmlkIHctMTAwIiAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0ic3VibWl0IiAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9ImxvZ2luLWJ0biIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyAoJGxvZ2luX2F0dGVtcHRzID49IDUgJiYgKHRpbWUoKSAtICRsYXN0X2F0dGVtcHQpIDwgJGxvY2tvdXRfdGltZSkgPyAnZGlzYWJsZWQnIDogJyc7ID8+PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT4KCiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJsb2dpbi10eXBlLW5vdGljZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcmUgeW91IGEgcmV0YWlsZXI/IDxhIGhyZWY9Ii4uL2xvZ2luLnBocCI+TG9naW4gaGVyZTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgPCEtLSBDb3JlIEpTIC0tPgogICAgPHNjcmlwdCBzcmM9Ii4uL2Fzc2V0cy92ZW5kb3IvbGlicy9qcXVlcnkvanF1ZXJ5LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSIuLi9hc3NldHMvdmVuZG9yL2xpYnMvcG9wcGVyL3BvcHBlci5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iLi4vYXNzZXRzL3ZlbmRvci9qcy9ib290c3RyYXAuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Ii4uL2Fzc2V0cy92ZW5kb3IvbGlicy9ub2RlLXdhdmVzL25vZGUtd2F2ZXMuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Ii4uL2Fzc2V0cy92ZW5kb3IvbGlicy9wZXJmZWN0LXNjcm9sbGJhci9wZXJmZWN0LXNjcm9sbGJhci5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iLi4vYXNzZXRzL3ZlbmRvci9qcy9tZW51LmpzIj48L3NjcmlwdD4KICAgIAogICAgPCEtLSBWZW5kb3IgSlMgLS0+CiAgICA8c2NyaXB0IHNyYz0iLi4vYXNzZXRzL3ZlbmRvci9saWJzL3N3ZWV0YWxlcnQyL3N3ZWV0YWxlcnQyLmpzIj48L3NjcmlwdD4KICAgIAogICAgPCEtLSBNYWluIEpTIC0tPgogICAgPHNjcmlwdCBzcmM9Ii4uL2Fzc2V0cy9qcy9tYWluLmpzIj48L3NjcmlwdD4KICAgIAogICAgPHNjcmlwdD4KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHsKICAgICAgICAvLyBTaG93IFN3ZWV0QWxlcnRzIGZvciBlcnJvcnMKICAgICAgICA8P3BocCBpZiAoIWVtcHR5KCRlcnJvcikpOiA/PgogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICAgIHRpdGxlOiAnTG9naW4gRmFpbGVkJywKICAgICAgICAgICAgICAgIHRleHQ6ICc8P3BocCBlY2hvIGFkZHNsYXNoZXMoJGVycm9yKTsgPz4nLAogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzY5NmNmZicsCiAgICAgICAgICAgIH0pOwogICAgICAgIDw/cGhwIGVuZGlmOyA/PgogICAgICAgIAogICAgICAgIC8vIFNob3cgT1RQIG1vZGFsIGlmIG5lZWRlZAogICAgICAgIDw/cGhwIGlmIChpc3NldCgkX1NFU1NJT05bJ3Nob3dfMmZhX21vZGFsJ10pICYmICRfU0VTU0lPTlsnc2hvd18yZmFfbW9kYWwnXSk6ID8+CiAgICAgICAgICAgIHZhciBvdHBNb2RhbCA9IG5ldyBib290c3RyYXAuTW9kYWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ290cE1vZGFsJykpOwogICAgICAgICAgICBvdHBNb2RhbC5zaG93KCk7CiAgICAgICAgICAgIDw/cGhwIHVuc2V0KCRfU0VTU0lPTlsnc2hvd18yZmFfbW9kYWwnXSk7ID8+CiAgICAgICAgPD9waHAgZW5kaWY7ID8+CiAgICAgICAgCiAgICAgICAgLy8gUGFzc3dvcmQgdG9nZ2xlIGZ1bmN0aW9uYWxpdHkKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybS1wYXNzd29yZC10b2dnbGUgaScpLmZvckVhY2goZnVuY3Rpb24oaWNvbikgewogICAgICAgICAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMuY2xvc2VzdCgnLmlucHV0LWdyb3VwJykucXVlcnlTZWxlY3RvcignaW5wdXQnKTsKICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ3Bhc3N3b3JkJyA/ICd0ZXh0JyA6ICdwYXNzd29yZCc7CiAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCB0eXBlKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gVG9nZ2xlIGljb24gY2xhc3MKICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgndGFibGVyLWV5ZS1vZmYnKTsKICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgndGFibGVyLWV5ZScpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICAvLyBSZW1lbWJlciBtZSBmdW5jdGlvbmFsaXR5CiAgICAgICAgY29uc3QgcmVtZW1iZXJNZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1lbWJlci1tZScpOwogICAgICAgIGNvbnN0IGVtYWlsSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBmb3Igc2F2ZWQgY3JlZGVudGlhbHMKICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JlbWVtYmVyTWUnKSA9PT0gJ3RydWUnKSB7CiAgICAgICAgICAgIHJlbWVtYmVyTWUuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgICAgIGVtYWlsSW5wdXQudmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW1haWwnKSB8fCAnJzsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gSGFuZGxlIGZvcm0gc3VibWlzc2lvbgogICAgICAgIGNvbnN0IGxvZ2luRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtQXV0aGVudGljYXRpb24nKTsKICAgICAgICBpZiAobG9naW5Gb3JtKSB7CiAgICAgICAgICAgIGxvZ2luRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAvLyBTYXZlIGNyZWRlbnRpYWxzIGlmIHJlbWVtYmVyIG1lIGlzIGNoZWNrZWQKICAgICAgICAgICAgICAgIGlmIChyZW1lbWJlck1lLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVtZW1iZXJNZScsICd0cnVlJyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VtYWlsJywgZW1haWxJbnB1dC52YWx1ZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyZW1lbWJlck1lJyk7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2VtYWlsJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFNob3cgbG9hZGluZyBzdGF0ZSBvbiBidXR0b24KICAgICAgICAgICAgICAgIGNvbnN0IGxvZ2luQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luLWJ0bicpOwogICAgICAgICAgICAgICAgaWYgKGxvZ2luQnRuKSB7CiAgICAgICAgICAgICAgICAgICAgbG9naW5CdG4uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGxvZ2luQnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz0ic3Bpbm5lci1ib3JkZXIgc3Bpbm5lci1ib3JkZXItc20gbWUtMiIgcm9sZT0ic3RhdHVzIj48L3NwYW4+IExvZ2dpbmcgaW4uLi4nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gT1RQIGlucHV0IGZvcm1hdHRpbmcKICAgICAgICBjb25zdCBvdHBJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdHBDb2RlJyk7CiAgICAgICAgaWYgKG90cElucHV0KSB7CiAgICAgICAgICAgIG90cElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUucmVwbGFjZSgvW14wLTldL2csICcnKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCA+IDYpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5zbGljZSgwLCA2KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFJlc2VuZCBPVFAgZnVuY3Rpb25hbGl0eQogICAgICAgIGNvbnN0IHJlc2VuZEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNlbmRPdHAnKTsKICAgICAgICBpZiAocmVzZW5kQnRuKSB7CiAgICAgICAgICAgIHJlc2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgZmV0Y2goJ3Jlc2VuZF9vdHAucGhwJywgewogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcl9pZDogPD9waHAgZWNobyAkX1NFU1NJT05bJzJmYV91c2VyX2lkJ10gPz8gMDsgPz4gfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ05ldyBPVFAgU2VudCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQSBuZXcgdmVyaWZpY2F0aW9uIGNvZGUgaGFzIGJlZW4gc2VudCB0byB5b3VyIGVtYWlsJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyM2OTZjZmYnLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRXJyb3InLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gcmVzZW5kIE9UUCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjNjk2Y2ZmJywKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDaGVjayBmb3IgbG9ja291dAogICAgICAgIDw/cGhwIGlmICgkbG9naW5fYXR0ZW1wdHMgPj0gNSAmJiAodGltZSgpIC0gJGxhc3RfYXR0ZW1wdCkgPCAkbG9ja291dF90aW1lKTogPz4KICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nVGltZSA9IDw/cGhwIGVjaG8gJGxvY2tvdXRfdGltZSAtICh0aW1lKCkgLSAkbGFzdF9hdHRlbXB0KTsgPz47CiAgICAgICAgICAgIHN0YXJ0TG9ja291dFRpbWVyKHJlbWFpbmluZ1RpbWUpOwogICAgICAgIDw/cGhwIGVuZGlmOyA/PgogICAgfSk7CiAgICAKICAgIC8vIExvY2tvdXQgdGltZXIgZnVuY3Rpb24KICAgIGZ1bmN0aW9uIHN0YXJ0TG9ja291dFRpbWVyKHNlY29uZHMpIHsKICAgICAgICBjb25zdCB0aW1lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICB0aW1lckVsZW1lbnQuY2xhc3NOYW1lID0gJ2xvY2tvdXQtbWVzc2FnZSB0ZXh0LWNlbnRlciBtdC0zJzsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1ib2R5JykuYXBwZW5kQ2hpbGQodGltZXJFbGVtZW50KTsKICAgICAgICAKICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApOwogICAgICAgICAgICBjb25zdCByZW1haW5pbmdTZWNvbmRzID0gc2Vjb25kcyAlIDYwOwogICAgICAgICAgICAKICAgICAgICAgICAgdGltZXJFbGVtZW50LnRleHRDb250ZW50ID0gYEFjY291bnQgbG9ja2VkLiBQbGVhc2UgdHJ5IGFnYWluIGluICR7bWludXRlc306JHtyZW1haW5pbmdTZWNvbmRzIDwgMTAgPyAnMCcgOiAnJ30ke3JlbWFpbmluZ1NlY29uZHN9YDsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChzZWNvbmRzIDw9IDApIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgdGltZXJFbGVtZW50LnRleHRDb250ZW50ID0gJ1lvdSBjYW4gbm93IHRyeSB0byBsb2dpbiBhZ2Fpbic7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKS5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkJykuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1idG4nKS5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGxvY2tvdXQgbWVzc2FnZSBhZnRlciA1IHNlY29uZHMKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRpbWVyRWxlbWVudC5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBzZWNvbmRzLS07CiAgICAgICAgfSwgMTAwMCk7CiAgICB9CgogICAgLy8gUGFzc3dvcmQgdG9nZ2xlIGZ1bmN0aW9uYWxpdHkKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHsKICAgICAgICBjb25zdCB0b2dnbGVQYXNzd29yZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnB1dC1ncm91cC10ZXh0Jyk7CiAgICAgICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYXNzd29yZCcpOwogICAgICAgIGNvbnN0IGV5ZUljb24gPSB0b2dnbGVQYXNzd29yZC5xdWVyeVNlbGVjdG9yKCdpJyk7CiAgICAgICAgCiAgICAgICAgdG9nZ2xlUGFzc3dvcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgLy8gVG9nZ2xlIHRoZSB0eXBlIGF0dHJpYnV0ZQogICAgICAgICAgICBjb25zdCB0eXBlID0gcGFzc3dvcmRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ3Bhc3N3b3JkJyA/ICd0ZXh0JyA6ICdwYXNzd29yZCc7CiAgICAgICAgICAgIHBhc3N3b3JkSW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgdHlwZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBUb2dnbGUgdGhlIGljb24KICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdwYXNzd29yZCcpIHsKICAgICAgICAgICAgICAgIGV5ZUljb24uY2xhc3NMaXN0LnJlbW92ZSgndGFibGVyLWV5ZScpOwogICAgICAgICAgICAgICAgZXllSWNvbi5jbGFzc0xpc3QuYWRkKCd0YWJsZXItZXllLW9mZicpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZXllSWNvbi5jbGFzc0xpc3QucmVtb3ZlKCd0YWJsZXItZXllLW9mZicpOwogICAgICAgICAgICAgICAgZXllSWNvbi5jbGFzc0xpc3QuYWRkKCd0YWJsZXItZXllJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0pOwogICAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo8L2JvZHk+');
ob_start();
eval('?>' . $code);
$content = ob_get_clean();
echo $content;
?>