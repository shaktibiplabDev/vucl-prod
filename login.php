<?php
$code = base64_decode('PD9waHAKc2Vzc2lvbl9zdGFydCgpOwogLy8gSW5jbHVkZSB5b3VyIGRhdGFiYXNlIGNvbm5lY3Rpb24gYW5kIG90aGVyIG5lY2Vzc2FyeSBmaWxlcwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvY29uZmlnL2RhdGFiYXNlLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gICcvaW5jbHVkZXMvZW1haWwucGhwJzsgLy8gWW91ciBlbWFpbCBzZW5kaW5nIGZ1bmN0aW9ucwoKLy8gSW5pdGlhbGl6ZSB2YXJpYWJsZXMKJGVtYWlsX3VzZXJuYW1lID0gJHBhc3N3b3JkID0gIiI7CiRlcnJvciA9ICIiOwokbG9naW5fYXR0ZW1wdHMgPSAkX1NFU1NJT05bJ2xvZ2luX2F0dGVtcHRzJ10gPz8gMDsKJGxhc3RfYXR0ZW1wdCA9ICRfU0VTU0lPTlsnbGFzdF9hdHRlbXB0J10gPz8gMDsKJGxvY2tvdXRfdGltZSA9IDMwMDsgLy8gNSBtaW51dGVzIGluIHNlY29uZHMKCi8vIENoZWNrIGlmIHVzZXIgaXMgYWxyZWFkeSBsb2dnZWQgaW4KaWYgKGlzc2V0KCRfU0VTU0lPTlsnbG9nZ2VkX2luJ10pICYmICRfU0VTU0lPTlsnbG9nZ2VkX2luJ10gPT09IHRydWUpIHsKICAgIGlmICgkX1NFU1NJT05bJ3VzZXJfdHlwZSddID09PSAncmV0YWlsZXInKSB7CiAgICAgICAgaGVhZGVyKCJMb2NhdGlvbjogYWRtaW4vcGFuZWwvaW5kZXgucGhwIik7CiAgICAgICAgZXhpdCgpOwogICAgfSBlbHNlIHsKICAgICAgICAvLyBJZiBsb2dnZWQgaW4gYnV0IG5vdCBhIHJldGFpbGVyLCByZWRpcmVjdCB0byBhcHByb3ByaWF0ZSBwYWdlIG9yIGxvZ291dAogICAgICAgIHNlc3Npb25fZGVzdHJveSgpOwogICAgICAgIGhlYWRlcigiTG9jYXRpb246IGluZGV4LnBocCIpOwogICAgICAgIGV4aXQoKTsKICAgIH0KfQoKLy8gRnVuY3Rpb24gdG8gZ2VuZXJhdGUgT1RQCmZ1bmN0aW9uIGdlbmVyYXRlT1RQKCRsZW5ndGggPSA2KSB7CiAgICAkZGlnaXRzID0gJzAxMjM0NTY3ODknOwogICAgJG90cCA9ICcnOwogICAgZm9yICgkaSA9IDA7ICRpIDwgJGxlbmd0aDsgJGkrKykgewogICAgICAgICRvdHAgLj0gJGRpZ2l0c1tyYW5kKDAsIHN0cmxlbigkZGlnaXRzKSAtIDEpXTsKICAgIH0KICAgIHJldHVybiAkb3RwOwp9CgovLyBGdW5jdGlvbiB0byBnZXQgY2xpZW50IElQIGFkZHJlc3MKZnVuY3Rpb24gZ2V0Q2xpZW50SVAoKSB7CiAgICAkaXBfa2V5cyA9IFsnSFRUUF9DTElFTlRfSVAnLCAnSFRUUF9YX0ZPUldBUkRFRF9GT1InLCAnSFRUUF9YX0ZPUldBUkRFRCcsICdIVFRQX1hfQ0xVU1RFUl9DTElFTlRfSVAnLCAnSFRUUF9GT1JXQVJERURfRk9SJywgJ0hUVFBfRk9SV0FSREVEJywgJ1JFTU9URV9BRERSJ107CiAgICBmb3JlYWNoICgkaXBfa2V5cyBhcyAka2V5KSB7CiAgICAgICAgaWYgKGFycmF5X2tleV9leGlzdHMoJGtleSwgJF9TRVJWRVIpID09PSB0cnVlKSB7CiAgICAgICAgICAgIGZvcmVhY2ggKGV4cGxvZGUoJywnLCAkX1NFUlZFUlska2V5XSkgYXMgJGlwKSB7CiAgICAgICAgICAgICAgICAkaXAgPSB0cmltKCRpcCk7CiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyX3ZhcigkaXAsIEZJTFRFUl9WQUxJREFURV9JUCwgRklMVEVSX0ZMQUdfTk9fUFJJVl9SQU5HRSB8IEZJTFRFUl9GTEFHX05PX1JFU19SQU5HRSkgIT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRpcDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIHJldHVybiAkX1NFUlZFUlsnUkVNT1RFX0FERFInXSA/PyAnVU5LTk9XTic7Cn0KCmZ1bmN0aW9uIGdldExvY2F0aW9uRnJvbUlQKCRpcCkgewogICAgJGxvY2F0aW9uID0gJ1Vua25vd24nOwoKICAgICRyZXNwb25zZSA9IEBmaWxlX2dldF9jb250ZW50cygiaHR0cDovL2lwLWFwaS5jb20vanNvbi97JGlwfT9maWVsZHM9Y2l0eSxyZWdpb25OYW1lLGNvdW50cnkiKTsKICAgIGlmICgkcmVzcG9uc2UpIHsKICAgICAgICAkZGF0YSA9IGpzb25fZGVjb2RlKCRyZXNwb25zZSwgdHJ1ZSk7CiAgICAgICAgaWYgKGlzc2V0KCRkYXRhWydjaXR5J10sICRkYXRhWydyZWdpb25OYW1lJ10sICRkYXRhWydjb3VudHJ5J10pKSB7CiAgICAgICAgICAgICRsb2NhdGlvbiA9ICJ7JGRhdGFbJ2NpdHknXX0sIHskZGF0YVsncmVnaW9uTmFtZSddfSwgeyRkYXRhWydjb3VudHJ5J119IjsKICAgICAgICB9IGVsc2VpZiAoaXNzZXQoJGRhdGFbJ2NvdW50cnknXSkpIHsKICAgICAgICAgICAgJGxvY2F0aW9uID0gJGRhdGFbJ2NvdW50cnknXTsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuICRsb2NhdGlvbjsKfQoKLy8gRnVuY3Rpb24gdG8gcmVjb3JkIGxvZ2luIGF0dGVtcHRzCmZ1bmN0aW9uIHJlY29yZExvZ2luKCRwZG8sICR1c2VyX2lkLCAkc3VjY2VzcykgewogICAgJGN1cnJlbnRfaXAgPSBnZXRDbGllbnRJUCgpOwogICAgJGN1cnJlbnRfZGV2aWNlID0gJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddOwogICAgJGxvY2F0aW9uID0gZ2V0TG9jYXRpb25Gcm9tSVAoJGN1cnJlbnRfaXApOyAvLyBHZXQgbG9jYXRpb24gZnJvbSBJUAoKICAgICRoaXN0b3J5UXVlcnkgPSAiSU5TRVJUIElOVE8gbG9naW5faGlzdG9yeSAKICAgICAgICAgICAgICAgICAgICAodXNlcl9pZCwgYnJvd3NlciwgZGV2aWNlLCBpcF9hZGRyZXNzLCBsb2NhdGlvbiwgbG9naW5fdGltZSwgc3VjY2VzcykgCiAgICAgICAgICAgICAgICAgICAgVkFMVUVTIAogICAgICAgICAgICAgICAgICAgICg/LCA/LCA/LCA/LCA/LCBOT1coKSwgPykiOwogICAgJGhpc3RvcnlTdG10ID0gJHBkby0+cHJlcGFyZSgkaGlzdG9yeVF1ZXJ5KTsKICAgICRoaXN0b3J5U3RtdC0+ZXhlY3V0ZShbCiAgICAgICAgJHVzZXJfaWQsCiAgICAgICAgJGN1cnJlbnRfZGV2aWNlLAogICAgICAgICRjdXJyZW50X2RldmljZSwKICAgICAgICAkY3VycmVudF9pcCwKICAgICAgICAkbG9jYXRpb24sCiAgICAgICAgJHN1Y2Nlc3MgPyAxIDogMAogICAgXSk7Cn0KCi8vIEZ1bmN0aW9uIHRvIGNvbXBsZXRlIGxvZ2luIHByb2Nlc3MKZnVuY3Rpb24gY29tcGxldGVMb2dpbigkcGRvLCAkdXNlcikgewogICAgLy8gVmVyaWZ5IHRoaXMgaXMgYSByZXRhaWxlciBiZWZvcmUgcHJvY2VlZGluZwogICAgaWYgKCR1c2VyWyd1c2VyX3R5cGUnXSAhPT0gJ3JldGFpbGVyJykgewogICAgICAgICRlcnJvciA9ICJUaGlzIGxvZ2luIHBhZ2UgaXMgZm9yIHJldGFpbGVycyBvbmx5IjsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8gU2V0IHNlc3Npb24gdmFyaWFibGVzCiAgICAkX1NFU1NJT05bJ3VzZXJfaWQnXSA9ICR1c2VyWydpZCddOwogICAgJF9TRVNTSU9OWyd1c2VybmFtZSddID0gJHVzZXJbJ3VzZXJuYW1lJ107CiAgICAkX1NFU1NJT05bJ2VtYWlsJ10gPSAkdXNlclsnZW1haWwnXTsKICAgICRfU0VTU0lPTlsndXNlcl90eXBlJ10gPSAkdXNlclsndXNlcl90eXBlJ107CiAgICAkX1NFU1NJT05bJ2Z1bGxfbmFtZSddID0gJHVzZXJbJ2Z1bGxfbmFtZSddOwogICAgJF9TRVNTSU9OWydsb2dnZWRfaW4nXSA9IHRydWU7CiAgICAkX1NFU1NJT05bJ3R3b19mYWN0b3JfdmVyaWZpZWQnXSA9IHRydWU7CiAgICAKICAgIC8vIFN0b3JlIGRpc3RyaWJ1dG9yIElECiAgICBpZiAoIWVtcHR5KCR1c2VyWydkaXN0cmlidXRvcl9pZCddKSkgewogICAgICAgICRfU0VTU0lPTlsnZGlzdHJpYnV0b3JfaWQnXSA9ICR1c2VyWydkaXN0cmlidXRvcl9pZCddOwogICAgfQogICAgCiRpc3RUaW1lID0gKG5ldyBEYXRlVGltZSgnbm93JywgbmV3IERhdGVUaW1lWm9uZSgnQXNpYS9Lb2xrYXRhJykpKS0+Zm9ybWF0KCdZLW0tZCBIOmk6cycpOwoKJHVwZGF0ZVF1ZXJ5ID0gIlVQREFURSB1c2VycyBTRVQgbGFzdF9sb2dpbiA9ID8gV0hFUkUgaWQgPSA/IjsKJHVwZGF0ZVN0bXQgPSAkcGRvLT5wcmVwYXJlKCR1cGRhdGVRdWVyeSk7CiR1cGRhdGVTdG10LT5leGVjdXRlKFskaXN0VGltZSwgJHVzZXJbJ2lkJ11dKTsKICAgIAogICAgLy8gUmVjb3JkIHN1Y2Nlc3NmdWwgbG9naW4KICAgIHJlY29yZExvZ2luKCRwZG8sICR1c2VyWydpZCddLCB0cnVlKTsKICAgIAogICAgJF9TRVNTSU9OWydsb2dpbl9hdHRlbXB0cyddID0gMDsKICAgICRfU0VTU0lPTlsnbGFzdF9hdHRlbXB0J10gPSAwOwogICAgCiAgICAvLyBHZW5lcmF0ZSBDU1JGIHRva2VuCiAgICAkX1NFU1NJT05bJ2NzcmZfdG9rZW4nXSA9IGJpbjJoZXgocmFuZG9tX2J5dGVzKDMyKSk7CiAgICAKICAgIC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgaW4gc2Vzc2lvbiBhbmQgcmVkaXJlY3QKICAgICRfU0VTU0lPTlsnbG9naW5fc3VjY2VzcyddID0gIkxvZ2luIHN1Y2Nlc3NmdWwhIFdlbGNvbWUgYmFjaywgIiAuIGh0bWxzcGVjaWFsY2hhcnMoJHVzZXJbJ2Z1bGxfbmFtZSddKSAuICIhIjsKICAgIAogICAgaGVhZGVyKCJMb2NhdGlvbjogYWRtaW4vcGFuZWwvaW5kZXgucGhwIik7CiAgICBleGl0KCk7Cn0KCi8vIFByb2Nlc3MgZm9ybSBzdWJtaXNzaW9uCmlmICgkX1NFUlZFUlsiUkVRVUVTVF9NRVRIT0QiXSA9PSAiUE9TVCIpIHsKICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSAyRkEgdmVyaWZpY2F0aW9uCiAgICBpZiAoaXNzZXQoJF9QT1NUWyd2ZXJpZnlfMmZhJ10pKSB7CiAgICAgICAgJHVzZXJfaWQgPSAkX1NFU1NJT05bJzJmYV91c2VyX2lkJ10gPz8gMDsKICAgICAgICAkY29kZSA9ICRfUE9TVFsnb3RwX2NvZGUnXSA/PyAnJzsKICAgICAgICAKICAgICAgICBpZiAoJHVzZXJfaWQgJiYgJGNvZGUpIHsKICAgICAgICAgICAgLy8gVmVyaWZ5IE9UUCBmcm9tIHNlc3Npb24KICAgICAgICAgICAgaWYgKGlzc2V0KCRfU0VTU0lPTlsnb3RwX2NvZGUnXSkgJiYgJF9TRVNTSU9OWydvdHBfY29kZSddID09ICRjb2RlICYmIAogICAgICAgICAgICAgICAgaXNzZXQoJF9TRVNTSU9OWydvdHBfZXhwaXJ5J10pICYmIHRpbWUoKSA8ICRfU0VTU0lPTlsnb3RwX2V4cGlyeSddKSB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIE9UUCB2ZXJpZmllZCwgY29tcGxldGUgbG9naW4KICAgICAgICAgICAgICAgIHVuc2V0KCRfU0VTU0lPTlsnb3RwX2NvZGUnXSk7CiAgICAgICAgICAgICAgICB1bnNldCgkX1NFU1NJT05bJ290cF9leHBpcnknXSk7CiAgICAgICAgICAgICAgICB1bnNldCgkX1NFU1NJT05bJzJmYV91c2VyX2lkJ10pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBHZXQgdXNlciBkYXRhIGFnYWluCiAgICAgICAgICAgICAgICAkc3RtdCA9ICRwZG8tPnByZXBhcmUoIlNFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgaWQgPSA/Iik7CiAgICAgICAgICAgICAgICAkc3RtdC0+ZXhlY3V0ZShbJHVzZXJfaWRdKTsKICAgICAgICAgICAgICAgICR1c2VyID0gJHN0bXQtPmZldGNoKCk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbXBsZXRlTG9naW4oJHBkbywgJHVzZXIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJGVycm9yID0gIkludmFsaWQgb3IgZXhwaXJlZCB2ZXJpZmljYXRpb24gY29kZS4gUGxlYXNlIHRyeSBhZ2Fpbi4iOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSAKICAgIC8vIE5vcm1hbCBsb2dpbiBhdHRlbXB0CiAgICBlbHNlIHsKICAgICAgICAvLyBDaGVjayBpZiBhY2NvdW50IGlzIGxvY2tlZAogICAgICAgIGlmICgkbG9naW5fYXR0ZW1wdHMgPj0gNSAmJiAodGltZSgpIC0gJGxhc3RfYXR0ZW1wdCkgPCAkbG9ja291dF90aW1lKSB7CiAgICAgICAgICAgICRyZW1haW5pbmdfdGltZSA9ICRsb2Nrb3V0X3RpbWUgLSAodGltZSgpIC0gJGxhc3RfYXR0ZW1wdCk7CiAgICAgICAgICAgICRlcnJvciA9ICJUb28gbWFueSBmYWlsZWQgYXR0ZW1wdHMuIFBsZWFzZSB0cnkgYWdhaW4gaW4gIiAuIGNlaWwoJHJlbWFpbmluZ190aW1lIC8gNjApIC4gIiBtaW51dGVzLiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gUmVzZXQgYXR0ZW1wdHMgaWYgbG9ja291dCB0aW1lIGhhcyBwYXNzZWQKICAgICAgICAgICAgaWYgKCh0aW1lKCkgLSAkbGFzdF9hdHRlbXB0KSA+PSAkbG9ja291dF90aW1lKSB7CiAgICAgICAgICAgICAgICAkbG9naW5fYXR0ZW1wdHMgPSAwOwogICAgICAgICAgICAgICAgJF9TRVNTSU9OWydsb2dpbl9hdHRlbXB0cyddID0gMDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gU2FuaXRpemUgaW5wdXRzCiAgICAgICAgICAgICRlbWFpbF91c2VybmFtZSA9IHRyaW0oJF9QT1NUWyJlbWFpbC11c2VybmFtZSJdKTsKICAgICAgICAgICAgJHBhc3N3b3JkID0gdHJpbSgkX1BPU1RbInBhc3N3b3JkIl0pOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVmFsaWRhdGUgaW5wdXRzCiAgICAgICAgICAgIGlmIChlbXB0eSgkZW1haWxfdXNlcm5hbWUpIHx8IGVtcHR5KCRwYXNzd29yZCkpIHsKICAgICAgICAgICAgICAgICRlcnJvciA9ICJQbGVhc2UgZW50ZXIgYm90aCBlbWFpbC91c2VybmFtZSBhbmQgcGFzc3dvcmQuIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIFByZXBhcmUgU1FMIHRvIGZldGNoIHVzZXIgLSBPTkxZIFJFVEFJTEVSUwogICAgICAgICAgICAgICAgJHF1ZXJ5ID0gIlNFTEVDVCBpZCwgdXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCwgdXNlcl90eXBlLCBmdWxsX25hbWUsIHN0YXR1cywgZGlzdHJpYnV0b3JfaWQsIHR3b19mYWN0b3JfZW5hYmxlZAogICAgICAgICAgICAgICAgICAgICAgICAgIEZST00gdXNlcnMgCiAgICAgICAgICAgICAgICAgICAgICAgICAgV0hFUkUgKGVtYWlsID0gOmVtYWlsIE9SIHVzZXJuYW1lID0gOmVtYWlsKQogICAgICAgICAgICAgICAgICAgICAgICAgIEFORCB1c2VyX3R5cGUgPSAncmV0YWlsZXInIjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgJHN0bXQgPSAkcGRvLT5wcmVwYXJlKCRxdWVyeSk7CiAgICAgICAgICAgICAgICAkc3RtdC0+YmluZFBhcmFtKCc6ZW1haWwnLCAkZW1haWxfdXNlcm5hbWUpOwogICAgICAgICAgICAgICAgJHN0bXQtPmV4ZWN1dGUoKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKCRzdG10LT5yb3dDb3VudCgpID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAkdXNlciA9ICRzdG10LT5mZXRjaChQRE86OkZFVENIX0FTU09DKTsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBhY2NvdW50IHN0YXR1cwogICAgICAgICAgICAgICAgICAgIGlmICgkdXNlclsnc3RhdHVzJ10gIT0gJ2FjdGl2ZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGVycm9yID0gIllvdXIgYWNjb3VudCBpcyBpbmFjdGl2ZS4gUGxlYXNlIGNvbnRhY3Qgc3VwcG9ydC4iOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZnkgcGFzc3dvcmQKICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKHBhc3N3b3JkX3ZlcmlmeSgkcGFzc3dvcmQsICR1c2VyWydwYXNzd29yZCddKSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXNzd29yZCBpcyBjb3JyZWN0LCBjaGVjayBpZiAyRkEgaXMgZW5hYmxlZAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHVzZXJbJ3R3b19mYWN0b3JfZW5hYmxlZCddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBPVFAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRvdHAgPSBnZW5lcmF0ZU9UUCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJG90cF9leHBpcnkgPSB0aW1lKCkgKyAzMDA7IC8vIDUgbWludXRlcyBleHBpcnkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgaW4gc2Vzc2lvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJF9TRVNTSU9OWycyZmFfdXNlcl9pZCddID0gJHVzZXJbJ2lkJ107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkX1NFU1NJT05bJ290cF9jb2RlJ10gPSAkb3RwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJF9TRVNTSU9OWydvdHBfZXhwaXJ5J10gPSAkb3RwX2V4cGlyeTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfU0VTU0lPTlsnMmZhX3BlbmRpbmcnXSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgT1RQIHZpYSBlbWFpbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN1YmplY3QgPSAiWW91ciBWZXJpZmljYXRpb24gQ29kZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWVzc2FnZSA9ICJZb3VyIHZlcmlmaWNhdGlvbiBjb2RlIGlzOiAkb3RwXG5cblRoaXMgY29kZSB3aWxsIGV4cGlyZSBpbiA1IG1pbnV0ZXMuIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRFbWFpbCgkdXNlclsnZW1haWwnXSwgJHN1YmplY3QsICRtZXNzYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyAyRkEgbW9kYWwgKGhhbmRsZWQgaW4gSmF2YVNjcmlwdCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfU0VTU0lPTlsnc2hvd18yZmFfbW9kYWwnXSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyAyRkEgcmVxdWlyZWQsIHByb2NlZWQgd2l0aCBsb2dpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVMb2dpbigkcGRvLCAkdXNlcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmNyZW1lbnQgZmFpbGVkIGF0dGVtcHRzCiAgICAgICAgICAgICAgICAgICAgICAgICRsb2dpbl9hdHRlbXB0cysrOwogICAgICAgICAgICAgICAgICAgICAgICAkX1NFU1NJT05bJ2xvZ2luX2F0dGVtcHRzJ10gPSAkbG9naW5fYXR0ZW1wdHM7CiAgICAgICAgICAgICAgICAgICAgICAgICRfU0VTU0lPTlsnbGFzdF9hdHRlbXB0J10gPSB0aW1lKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmQgZmFpbGVkIGxvZ2luIGF0dGVtcHQKICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkTG9naW4oJHBkbywgJHVzZXJbJ2lkJ10sIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICRlcnJvciA9ICJJbnZhbGlkIHBhc3N3b3JkLiBBdHRlbXB0cyByZW1haW5pbmc6ICIgLiAoNSAtICRsb2dpbl9hdHRlbXB0cyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkZXJyb3IgPSAiTm8gcmV0YWlsZXIgYWNjb3VudCBmb3VuZCB3aXRoIHRoYXQgZW1haWwvdXNlcm5hbWUuIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo/PgoKPCFkb2N0eXBlIGh0bWw+CjxodG1sIGxhbmc9ImVuIiBjbGFzcz0ibGF5b3V0LXdpZGUgY3VzdG9taXplci1oaWRlIiBkaXI9Imx0ciIgZGF0YS1za2luPSJkZWZhdWx0IiBkYXRhLWFzc2V0cy1wYXRoPSJhc3NldHMvIiBkYXRhLXRlbXBsYXRlPSJ2ZXJ0aWNhbC1tZW51LXRlbXBsYXRlIiBkYXRhLWJzLXRoZW1lPSJsaWdodCI+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiIC8+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubywgbWluaW11bS1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wIiAvPgogICAgPHRpdGxlPlJldGFpbGVyIExvZ2luIHwgV29yayBQb3J0YWw8L3RpdGxlPgogICAgPG1ldGEgbmFtZT0iZGVzY3JpcHRpb24iIGNvbnRlbnQ9IiIgLz4KICAgIAogICAgPCEtLSBGYXZpY29uIC0tPgogICAgPGxpbmsgcmVsPSJpY29uIiB0eXBlPSJpbWFnZS94LWljb24iIGhyZWY9ImFzc2V0cy9pbWcvZmF2aWNvbi9mYXZpY29uLmljbyIgLz4KICAgIAogICAgPCEtLSBGb250cyAtLT4KICAgIDxsaW5rIHJlbD0icHJlY29ubmVjdCIgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbSIgLz4KICAgIDxsaW5rIHJlbD0icHJlY29ubmVjdCIgaHJlZj0iaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbSIgY3Jvc3NvcmlnaW4gLz4KICAgIDxsaW5rIGhyZWY9Imh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9UHVibGljK1NhbnM6aXRhbCx3Z2h0QDAsMzAwOzAsNDAwOzAsNTAwOzAsNjAwOzAsNzAwOzEsMzAwOzEsNDAwOzEsNTAwOzEsNjAwOzEsNzAwJmFtcGRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0IiAvPgogICAgCiAgICA8IS0tIEljb25zIC0tPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJhc3NldHMvdmVuZG9yL2ZvbnRzL2ljb25pZnktaWNvbnMuY3NzIiAvPgogICAgCiAgICA8IS0tIENvcmUgQ1NTIC0tPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJhc3NldHMvdmVuZG9yL2xpYnMvbm9kZS13YXZlcy9ub2RlLXdhdmVzLmNzcyIgLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iYXNzZXRzL3ZlbmRvci9saWJzL3BpY2tyL3BpY2tyLXRoZW1lcy5jc3MiIC8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9ImFzc2V0cy92ZW5kb3IvY3NzL2NvcmUuY3NzIiAvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJhc3NldHMvY3NzL2RlbW8uY3NzIiAvPgogICAgCiAgICA8IS0tIFZlbmRvciBDU1MgLS0+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9ImFzc2V0cy92ZW5kb3IvbGlicy9wZXJmZWN0LXNjcm9sbGJhci9wZXJmZWN0LXNjcm9sbGJhci5jc3MiIC8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9ImFzc2V0cy92ZW5kb3IvbGlicy9zd2VldGFsZXJ0Mi9zd2VldGFsZXJ0Mi5jc3MiIC8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9ImFzc2V0cy92ZW5kb3IvbGlicy9AZm9ybS12YWxpZGF0aW9uL2Zvcm0tdmFsaWRhdGlvbi5jc3MiIC8+CiAgICAKICAgIDwhLS0gUGFnZSBDU1MgLS0+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9ImFzc2V0cy92ZW5kb3IvY3NzL3BhZ2VzL3BhZ2UtYXV0aC5jc3MiIC8+CiAgICAKICAgIDwhLS0gSGVscGVycyAtLT4KICAgIDxzY3JpcHQgc3JjPSJhc3NldHMvdmVuZG9yL2pzL2hlbHBlcnMuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9ImFzc2V0cy92ZW5kb3IvanMvdGVtcGxhdGUtY3VzdG9taXplci5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iYXNzZXRzL2pzL2NvbmZpZy5qcyI+PC9zY3JpcHQ+CiAgICAKICAgIDxzdHlsZT4KICAgICAgICAubG9ja291dC1tZXNzYWdlIHsgY29sb3I6ICNmZjViNWI7IGZvbnQtd2VpZ2h0OiA1MDA7IH0KICAgICAgICAubG9naW4tY29udGFpbmVyIHsgbWF4LXdpZHRoOiA0NTBweDsgbWFyZ2luOiAwIGF1dG87IH0KICAgICAgICAjb3RwTW9kYWwgLm1vZGFsLWNvbnRlbnQgewogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjVyZW07CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwLjVyZW0gMXJlbSByZ2JhKDAsIDAsIDAsIDAuMTUpOwogICAgICAgIH0KICAgICAgICAjb3RwTW9kYWwgLm1vZGFsLWhlYWRlciB7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IG5vbmU7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAwOwogICAgICAgIH0KICAgICAgICAjb3RwTW9kYWwgLm1vZGFsLWJvZHkgewogICAgICAgICAgICBwYWRkaW5nOiAycmVtOwogICAgICAgIH0KICAgICAgICAjb3RwTW9kYWwgLm1vZGFsLWZvb3RlciB7CiAgICAgICAgICAgIGJvcmRlci10b3A6IG5vbmU7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgIH0KICAgICAgICAub3RwLWlucHV0IHsKICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDJyZW07CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTsKICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDEuNXJlbTsKICAgICAgICB9CiAgICAgICAgLmJ0bi1yZXNlbmQgewogICAgICAgICAgICBjb2xvcjogIzY5NmNmZjsKICAgICAgICAgICAgYmFja2dyb3VuZDogbm9uZTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgfQogICAgICAgIC5idG4tcmVzZW5kOmhvdmVyIHsKICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7CiAgICAgICAgfQogICAgICAgIC5sb2dpbi1ub3RpY2UgewogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDFyZW07CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07CiAgICAgICAgICAgIGNvbG9yOiAjNmM3NTdkOwogICAgICAgIH0KICAgIDwvc3R5bGU+CjwvaGVhZD4KCjxib2R5PgogICAgPCEtLSBPVFAgVmVyaWZpY2F0aW9uIE1vZGFsIC0tPgogICAgPGRpdiBjbGFzcz0ibW9kYWwgZmFkZSIgaWQ9Im90cE1vZGFsIiB0YWJpbmRleD0iLTEiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1kaWFsb2cgbW9kYWwtZGlhbG9nLWNlbnRlcmVkIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0ibW9kYWwtdGl0bGUiPkVtYWlsIFZlcmlmaWNhdGlvbjwvaDU+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4tY2xvc2UiIGRhdGEtYnMtZGlzbWlzcz0ibW9kYWwiIGFyaWEtbGFiZWw9IkNsb3NlIj48L2J1dHRvbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGZvcm0gbWV0aG9kPSJQT1NUIiBpZD0ib3RwRm9ybSI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSB0ZXh0LWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9Imljb24tYmFzZSB0aSB0YWJsZXItbWFpbC1jaGVjayBpY29uLTQwcHggdGV4dC1wcmltYXJ5IG1iLTMiPjwvaT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoND5FbnRlciBWZXJpZmljYXRpb24gQ29kZTwvaDQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5XZSd2ZSBzZW50IGEgNi1kaWdpdCBjb2RlIHRvIHlvdXIgZW1haWwgYWRkcmVzczwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi00Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJvdHBfY29kZSIgaWQ9Im90cENvZGUiIGNsYXNzPSJmb3JtLWNvbnRyb2wgb3RwLWlucHV0IiBtYXhsZW5ndGg9IjYiIHBsYWNlaG9sZGVyPSIwMDAwMDAiIHJlcXVpcmVkIGF1dG9mb2N1cz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ2ZXJpZnlfMmZhIiB2YWx1ZT0iMSI+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZm9vdGVyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4tcmVzZW5kIiBpZD0icmVzZW5kT3RwIj5SZXNlbmQgQ29kZTwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tcHJpbWFyeSB3LTEwMCI+VmVyaWZ5ICYgQ29udGludWU8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIteHhsIj4KICAgICAgICA8ZGl2IGNsYXNzPSJhdXRoZW50aWNhdGlvbi13cmFwcGVyIGF1dGhlbnRpY2F0aW9uLWJhc2ljIGNvbnRhaW5lci1wLXkiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdXRoZW50aWNhdGlvbi1pbm5lciBweS02IGxvZ2luLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPgogICAgICAgICAgICAgICAgICAgICAgICA8IS0tIExvZ28gLS0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFwcC1icmFuZCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIG1iLTYiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaW5kZXguaHRtbCIgY2xhc3M9ImFwcC1icmFuZC1saW5rIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYXBwLWJyYW5kLWxvZ28gZGVtbyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ0ZXh0LXByaW1hcnkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAzMiAyMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTAuMDAxNzI3NzMgMFY2Ljg1Mzk4QzAuMDAxNzI3NzMgNi44NTM5OCAtMC4xMzMxNzggOS4wMTIwNyAxLjk4MDkyIDEwLjgzODhMMTMuNjkxMiAyMS45OTY0TDE5Ljc4MDkgMjEuOTE4MUwxOC44MDQyIDkuODgyNDhMMTYuNDk1MSA3LjE3Mjg5TDkuMjM3OTkgMEgwLjAwMTcyNzczWiIgZmlsbD0iY3VycmVudENvbG9yIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIG9wYWNpdHk9IjAuMDYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNy42OTgyNCAxNi40MzY0TDEyLjUxOTkgMy4yMzY5NkwxNi41NTQxIDcuMjU1OTZMNy42OTgyNCAxNi40MzY0WiIgZmlsbD0iIzE2MTYxNiIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBvcGFjaXR5PSIwLjA2IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTguMDc3NTEgMTUuOTE3NUwxMy45NDE5IDQuNjM5ODlMMTYuNTg0OSA3LjI4NDc1TDguMDc3NTEgMTUuOTE3NVoiIGZpbGw9IiMxNjE2MTYiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03Ljc3Mjk1IDE2LjM1NjZMMjMuNjU2MyAwSDMyVjYuODgzODNDMzIgNi44ODM4MyAzMS44MjYyIDkuMTc4MzYgMzAuNjU5MSAxMC40MDU3TDE5Ljc4MjQgMjJIMTMuNjkzOEw3Ljc3Mjk1IDE2LjM1NjZaIiBmaWxsPSJjdXJyZW50Q29sb3IiIC8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYXBwLWJyYW5kLXRleHQgZGVtbyB0ZXh0LWhlYWRpbmcgZnctYm9sZCI+UmV0YWlsZXIgUG9ydGFsPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSAvTG9nbyAtLT4KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz0ibWItMSI+V2VsY29tZSBSZXRhaWxlcnMhIPCfkYs8L2g0PgogICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibWItNiI+UGxlYXNlIHNpZ24taW4gdG8geW91ciByZXRhaWxlciBhY2NvdW50PC9wPgoKICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFlbXB0eSgkZXJyb3IpKTogPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFsZXJ0IGFsZXJ0LWRhbmdlciBtYi00Ij48P3BocCBlY2hvICRlcnJvcjsgPz48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+CgogICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybSBpZD0iZm9ybUF1dGhlbnRpY2F0aW9uIiBjbGFzcz0ibWItNCIgbWV0aG9kPSJQT1NUIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTQgZm9ybS1jb250cm9sLXZhbGlkYXRpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImVtYWlsIiBjbGFzcz0iZm9ybS1sYWJlbCI+RW1haWwgb3IgVXNlcm5hbWU8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSJ0ZXh0IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz0iZm9ybS1jb250cm9sIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD0iZW1haWwiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9ImVtYWlsLXVzZXJuYW1lIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0iRW50ZXIgeW91ciBlbWFpbCBvciB1c2VybmFtZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycygkZW1haWxfdXNlcm5hbWUpOyA/PiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlPSJ1c2VybmFtZSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyAoJGxvZ2luX2F0dGVtcHRzID49IDUgJiYgKHRpbWUoKSAtICRsYXN0X2F0dGVtcHQpIDwgJGxvY2tvdXRfdGltZSkgPyAnZGlzYWJsZWQnIDogJyc7ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9mb2N1cyAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTQgZm9ybS1wYXNzd29yZC10b2dnbGUgZm9ybS1jb250cm9sLXZhbGlkYXRpb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCIgZm9yPSJwYXNzd29yZCI+UGFzc3dvcmQ8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJmb3Jnb3RwYXNzd29yZC5waHAiIGNsYXNzPSJ0ZXh0LXNtYWxsIj5Gb3Jnb3QgUGFzc3dvcmQ/PC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImlucHV0LWdyb3VwIGlucHV0LWdyb3VwLW1lcmdlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPSJwYXNzd29yZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSJwYXNzd29yZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPSJmb3JtLWNvbnRyb2wiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPSJwYXNzd29yZCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSImI3hiNzsmI3hiNzsmI3hiNzsmI3hiNzsmI3hiNzsmI3hiNzsmI3hiNzsmI3hiNzsmI3hiNzsmI3hiNzsmI3hiNzsmI3hiNzsiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvY29tcGxldGU9ImN1cnJlbnQtcGFzc3dvcmQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvICgkbG9naW5fYXR0ZW1wdHMgPj0gNSAmJiAodGltZSgpIC0gJGxhc3RfYXR0ZW1wdCkgPCAkbG9ja291dF90aW1lKSA/ICdkaXNhYmxlZCcgOiAnJzsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9InBhc3N3b3JkIiAvPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaW5wdXQtZ3JvdXAtdGV4dCBjdXJzb3ItcG9pbnRlciI+PGkgY2xhc3M9Imljb24tYmFzZSB0aSB0YWJsZXItZXllLW9mZiI+PC9pPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoJGxvZ2luX2F0dGVtcHRzID49IDMpOiA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWNoZWNrIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0iZm9ybS1jaGVjay1pbnB1dCIgdHlwZT0iY2hlY2tib3giIGlkPSJjYXB0Y2hhIiBuYW1lPSJjYXB0Y2hhIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1jaGVjay1sYWJlbCIgZm9yPSJjYXB0Y2hhIj5JJ20gbm90IGEgcm9ib3Q8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi00Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWNoZWNrIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNoZWNrLWlucHV0IiB0eXBlPSJjaGVja2JveCIgaWQ9InJlbWVtYmVyLW1lIiBuYW1lPSJyZW1lbWJlcl9tZSIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWNoZWNrLWxhYmVsIiBmb3I9InJlbWVtYmVyLW1lIj4gUmVtZW1iZXIgTWUgPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi00Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IGQtZ3JpZCB3LTEwMCIgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9InN1Ym1pdCIgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSJsb2dpbi1idG4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gKCRsb2dpbl9hdHRlbXB0cyA+PSA1ICYmICh0aW1lKCkgLSAkbGFzdF9hdHRlbXB0KSA8ICRsb2Nrb3V0X3RpbWUpID8gJ2Rpc2FibGVkJyA6ICcnOyA/Pj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9naW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJsb2dpbi1ub3RpY2UiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTm90IHlldCByZWdpc3RlcmVkPyA8YSBocmVmPSJyZWdpc3Rlci5waHAiPlJlZ2lzdGVyIGhlcmU8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9ImxvZ2luLW5vdGljZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3QgYSByZXRhaWxlcj8gPGEgaHJlZj0iYWRtaW4vbG9naW4ucGhwIj5TdGFmZiBsb2dpbiBoZXJlPC9hPgogICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8IS0tIENvcmUgSlMgLS0+CiAgICA8c2NyaXB0IHNyYz0iYXNzZXRzL3ZlbmRvci9saWJzL2pxdWVyeS9qcXVlcnkuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9ImFzc2V0cy92ZW5kb3IvbGlicy9wb3BwZXIvcG9wcGVyLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJhc3NldHMvdmVuZG9yL2pzL2Jvb3RzdHJhcC5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iYXNzZXRzL3ZlbmRvci9saWJzL25vZGUtd2F2ZXMvbm9kZS13YXZlcy5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iYXNzZXRzL3ZlbmRvci9saWJzL3BlcmZlY3Qtc2Nyb2xsYmFyL3BlcmZlY3Qtc2Nyb2xsYmFyLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJhc3NldHMvdmVuZG9yL2pzL21lbnUuanMiPjwvc2NyaXB0PgogICAgCiAgICA8IS0tIFZlbmRvciBKUyAtLT4KICAgIDxzY3JpcHQgc3JjPSJhc3NldHMvdmVuZG9yL2xpYnMvc3dlZXRhbGVydDIvc3dlZXRhbGVydDIuanMiPjwvc2NyaXB0PgogICAgCiAgICA8IS0tIE1haW4gSlMgLS0+CiAgICA8c2NyaXB0IHNyYz0iYXNzZXRzL2pzL21haW4uanMiPjwvc2NyaXB0PgogICAgCiAgICA8c2NyaXB0PgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkgewogICAgICAgIC8vIFNob3cgU3dlZXRBbGVydHMgZm9yIGVycm9ycwogICAgICAgIDw/cGhwIGlmICghZW1wdHkoJGVycm9yKSk6ID8+CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICAgICAgdGl0bGU6ICdMb2dpbiBGYWlsZWQnLAogICAgICAgICAgICAgICAgdGV4dDogJzw/cGhwIGVjaG8gYWRkc2xhc2hlcygkZXJyb3IpOyA/PicsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjNjk2Y2ZmJywKICAgICAgICAgICAgfSk7CiAgICAgICAgPD9waHAgZW5kaWY7ID8+CiAgICAgICAgCiAgICAgICAgLy8gU2hvdyBPVFAgbW9kYWwgaWYgbmVlZGVkCiAgICAgICAgPD9waHAgaWYgKGlzc2V0KCRfU0VTU0lPTlsnc2hvd18yZmFfbW9kYWwnXSkgJiYgJF9TRVNTSU9OWydzaG93XzJmYV9tb2RhbCddKTogPz4KICAgICAgICAgICAgdmFyIG90cE1vZGFsID0gbmV3IGJvb3RzdHJhcC5Nb2RhbChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3RwTW9kYWwnKSk7CiAgICAgICAgICAgIG90cE1vZGFsLnNob3coKTsKICAgICAgICAgICAgPD9waHAgdW5zZXQoJF9TRVNTSU9OWydzaG93XzJmYV9tb2RhbCddKTsgPz4KICAgICAgICA8P3BocCBlbmRpZjsgPz4KICAgICAgICAKICAgICAgICAvLyBQYXNzd29yZCB0b2dnbGUgZnVuY3Rpb25hbGl0eQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLXBhc3N3b3JkLXRvZ2dsZSBpJykuZm9yRWFjaChmdW5jdGlvbihpY29uKSB7CiAgICAgICAgICAgIGljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5jbG9zZXN0KCcuaW5wdXQtZ3JvdXAnKS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpOwogICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IGlucHV0LmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAncGFzc3dvcmQnID8gJ3RleHQnIDogJ3Bhc3N3b3JkJzsKICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsIHR5cGUpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBUb2dnbGUgaWNvbiBjbGFzcwogICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCd0YWJsZXItZXllLW9mZicpOwogICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCd0YWJsZXItZXllJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIC8vIFJlbWVtYmVyIG1lIGZ1bmN0aW9uYWxpdHkKICAgICAgICBjb25zdCByZW1lbWJlck1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbWVtYmVyLW1lJyk7CiAgICAgICAgY29uc3QgZW1haWxJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbCcpOwogICAgICAgIAogICAgICAgIC8vIENoZWNrIGZvciBzYXZlZCBjcmVkZW50aWFscwogICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmVtZW1iZXJNZScpID09PSAndHJ1ZScpIHsKICAgICAgICAgICAgcmVtZW1iZXJNZS5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgZW1haWxJbnB1dC52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdlbWFpbCcpIHx8ICcnOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBIYW5kbGUgZm9ybSBzdWJtaXNzaW9uCiAgICAgICAgY29uc3QgbG9naW5Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1BdXRoZW50aWNhdGlvbicpOwogICAgICAgIGlmIChsb2dpbkZvcm0pIHsKICAgICAgICAgICAgbG9naW5Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgIC8vIFNhdmUgY3JlZGVudGlhbHMgaWYgcmVtZW1iZXIgbWUgaXMgY2hlY2tlZAogICAgICAgICAgICAgICAgaWYgKHJlbWVtYmVyTWUuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZW1lbWJlck1lJywgJ3RydWUnKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZW1haWwnLCBlbWFpbElucHV0LnZhbHVlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3JlbWVtYmVyTWUnKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZW1haWwnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gU2hvdyBsb2FkaW5nIHN0YXRlIG9uIGJ1dHRvbgogICAgICAgICAgICAgICAgY29uc3QgbG9naW5CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4tYnRuJyk7CiAgICAgICAgICAgICAgICBpZiAobG9naW5CdG4pIHsKICAgICAgICAgICAgICAgICAgICBsb2dpbkJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgbG9naW5CdG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPSJzcGlubmVyLWJvcmRlciBzcGlubmVyLWJvcmRlci1zbSBtZS0yIiByb2xlPSJzdGF0dXMiPjwvc3Bhbj4gTG9nZ2luZyBpbi4uLic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBPVFAgaW5wdXQgZm9ybWF0dGluZwogICAgICAgIGNvbnN0IG90cElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ290cENvZGUnKTsKICAgICAgICBpZiAob3RwSW5wdXQpIHsKICAgICAgICAgICAgb3RwSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9bXjAtOV0vZywgJycpOwogICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUubGVuZ3RoID4gNikgewogICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnNsaWNlKDAsIDYpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gUmVzZW5kIE9UUCBmdW5jdGlvbmFsaXR5CiAgICAgICAgY29uc3QgcmVzZW5kQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2VuZE90cCcpOwogICAgICAgIGlmIChyZXNlbmRCdG4pIHsKICAgICAgICAgICAgcmVzZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBmZXRjaCgncmVzZW5kX290cC5waHAnLCB7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VyX2lkOiA8P3BocCBlY2hvICRfU0VTU0lPTlsnMmZhX3VzZXJfaWQnXSA/PyAwOyA/PiB9KQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTmV3IE9UUCBTZW50JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdBIG5ldyB2ZXJpZmljYXRpb24gY29kZSBoYXMgYmVlbiBzZW50IHRvIHlvdXIgZW1haWwnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzY5NmNmZicsCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdFcnJvcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkYXRhLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byByZXNlbmQgT1RQJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyM2OTZjZmYnLAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIENoZWNrIGZvciBsb2Nrb3V0CiAgICAgICAgPD9waHAgaWYgKCRsb2dpbl9hdHRlbXB0cyA+PSA1ICYmICh0aW1lKCkgLSAkbGFzdF9hdHRlbXB0KSA8ICRsb2Nrb3V0X3RpbWUpOiA/PgogICAgICAgICAgICBjb25zdCByZW1haW5pbmdUaW1lID0gPD9waHAgZWNobyAkbG9ja291dF90aW1lIC0gKHRpbWUoKSAtICRsYXN0X2F0dGVtcHQpOyA/PjsKICAgICAgICAgICAgc3RhcnRMb2Nrb3V0VGltZXIocmVtYWluaW5nVGltZSk7CiAgICAgICAgPD9waHAgZW5kaWY7ID8+CiAgICB9KTsKICAgIAogICAgLy8gTG9ja291dCB0aW1lciBmdW5jdGlvbgogICAgZnVuY3Rpb24gc3RhcnRMb2Nrb3V0VGltZXIoc2Vjb25kcykgewogICAgICAgIGNvbnN0IHRpbWVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHRpbWVyRWxlbWVudC5jbGFzc05hbWUgPSAnbG9ja291dC1tZXNzYWdlIHRleHQtY2VudGVyIG10LTMnOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLWJvZHknKS5hcHBlbmRDaGlsZCh0aW1lckVsZW1lbnQpOwogICAgICAgIAogICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7CiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ1NlY29uZHMgPSBzZWNvbmRzICUgNjA7CiAgICAgICAgICAgIAogICAgICAgICAgICB0aW1lckVsZW1lbnQudGV4dENvbnRlbnQgPSBgQWNjb3VudCBsb2NrZWQuIFBsZWFzZSB0cnkgYWdhaW4gaW4gJHttaW51dGVzfToke3JlbWFpbmluZ1NlY29uZHMgPCAxMCA/ICcwJyA6ICcnfSR7cmVtYWluaW5nU2Vjb25kc31gOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKHNlY29uZHMgPD0gMCkgewogICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgICAgICAgICB0aW1lckVsZW1lbnQudGV4dENvbnRlbnQgPSAnWW91IGNhbiBub3cgdHJ5IHRvIGxvZ2luIGFnYWluJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbCcpLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKS5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luLWJ0bicpLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgbG9ja291dCBtZXNzYWdlIGFmdGVyIDUgc2Vjb25kcwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGltZXJFbGVtZW50LnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfSwgNTAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHNlY29uZHMtLTsKICAgICAgICB9LCAxMDAwKTsKICAgIH0KCiAgICAvLyBQYXNzd29yZCB0b2dnbGUgZnVuY3Rpb25hbGl0eQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkgewogICAgICAgIGNvbnN0IHRvZ2dsZVBhc3N3b3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlucHV0LWdyb3VwLXRleHQnKTsKICAgICAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bhc3N3b3JkJyk7CiAgICAgICAgY29uc3QgZXllSWNvbiA9IHRvZ2dsZVBhc3N3b3JkLnF1ZXJ5U2VsZWN0b3IoJ2knKTsKICAgICAgICAKICAgICAgICB0b2dnbGVQYXNzd29yZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAvLyBUb2dnbGUgdGhlIHR5cGUgYXR0cmlidXRlCiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwYXNzd29yZElucHV0LmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAncGFzc3dvcmQnID8gJ3RleHQnIDogJ3Bhc3N3b3JkJzsKICAgICAgICAgICAgcGFzc3dvcmRJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCB0eXBlKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFRvZ2dsZSB0aGUgaWNvbgogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3Bhc3N3b3JkJykgewogICAgICAgICAgICAgICAgZXllSWNvbi5jbGFzc0xpc3QucmVtb3ZlKCd0YWJsZXItZXllJyk7CiAgICAgICAgICAgICAgICBleWVJY29uLmNsYXNzTGlzdC5hZGQoJ3RhYmxlci1leWUtb2ZmJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBleWVJY29uLmNsYXNzTGlzdC5yZW1vdmUoJ3RhYmxlci1leWUtb2ZmJyk7CiAgICAgICAgICAgICAgICBleWVJY29uLmNsYXNzTGlzdC5hZGQoJ3RhYmxlci1leWUnKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSk7CiAgICA8L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+');
ob_start();
eval('?>' . $code);
$content = ob_get_clean();
echo $content;
?>